(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{253:function(t,s,a){"use strict";a.r(s);var n=a(0),r=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"å…³äºnginx-ä½ éœ€è¦çŸ¥é“çš„ç‚¹ç‚¹æ»´æ»´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…³äºnginx-ä½ éœ€è¦çŸ¥é“çš„ç‚¹ç‚¹æ»´æ»´"}},[t._v("#")]),t._v(" å…³äºNginx-ä½ éœ€è¦çŸ¥é“çš„ç‚¹ç‚¹æ»´æ»´")]),t._v(" "),a("p",[t._v("ç›¸ä¿¡ä½œä¸ºä¸€ä¸ª Web å¼€å‘è€…æ¥è¯´ï¼Œå¯¹ Nginx è‚¯å®šä¸é™Œç”Ÿã€‚æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ Nginx åœ¨å®˜æ–¹åˆ°åº•æ˜¯ä¸€ä¸ªä»€ä¹ˆå®šä¹‰ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("Nginx æ˜¯ä¸€ä¸ªå¼‚æ­¥æ¡†æ¶çš„ Web æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥ç”¨ä½œåå‘ä»£ç†ã€è´Ÿè½½å¹³è¡¡å™¨å’Œ HTTP ç¼“å­˜ã€‚")])]),t._v(" "),a("p",[t._v("å¾ˆå®¹æ˜“ç†è§£ï¼ŒNginx å°±æ˜¯ä¸€ä¸ª Web æœåŠ¡å™¨ï¼Œå¯ä»¥å¾ˆé«˜æ•ˆæ»´å¤„ç†å¼‚æ­¥è¯·æ±‚ã€‚")]),t._v(" "),a("h2",{attrs:{id:"ç›®å½•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç›®å½•"}},[t._v("#")]),t._v(" ç›®å½•")]),t._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"#%E4%BD%95%E4%B8%BA%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2%EF%BC%9F%E5%8F%88%E4%BD%95%E4%B8%BA%E5%8A%A8%E6%80%81%E9%A1%B5%E9%9D%A2%EF%BC%9F"}},[a("span",[t._v("ä½•ä¸ºé™æ€é¡µé¢ï¼Ÿåˆä½•ä¸ºåŠ¨æ€é¡µé¢ï¼Ÿ")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#Nginx%E3%80%81Apache%E5%92%8CTomcat%E5%8C%BA%E5%88%AB%3C"}},[a("span",[t._v("Nginxã€Apacheå’ŒTomcatåŒºåˆ«")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#Nginx-%E6%AD%A3%E5%90%91%E4%BB%A3%E7%90%86%E5%92%8C%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86"}},[a("span",[t._v("Nginx-æ­£å‘ä»£ç†å’Œåå‘ä»£ç†")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#Nginx-%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84"}},[a("span",[t._v("Nginx-åŸºæœ¬ç»“æ„")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#Nginx-%E5%A4%84%E7%90%86%E8%B7%A8%E5%9F%9F"}},[a("span",[t._v("Nginx-å¤„ç†è·¨åŸŸ")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#Nginx-%E8%BF%87%E6%BB%A4%E5%92%8CRewrite"}},[a("span",[t._v("Nginx-è¿‡æ»¤å’ŒRewrite")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#Nginx-gzip%E5%8E%8B%E7%BC%A9"}},[a("span",[t._v("Nginx-gzipå‹ç¼©")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#Nginx-%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1"}},[a("span",[t._v("Nginx-è´Ÿè½½å‡è¡¡")])])]),t._v(" "),a("li",[a("a",{attrs:{href:"#Nginx-%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6"}},[a("span",[t._v("Nginx-ç¼“å­˜æœºåˆ¶")])])])]),t._v(" "),a("h2",{attrs:{id:"ä½•ä¸ºé™æ€é¡µé¢ï¼Ÿåˆä½•ä¸ºåŠ¨æ€é¡µé¢ï¼Ÿ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½•ä¸ºé™æ€é¡µé¢ï¼Ÿåˆä½•ä¸ºåŠ¨æ€é¡µé¢ï¼Ÿ"}},[t._v("#")]),t._v(" ä½•ä¸ºé™æ€é¡µé¢ï¼Ÿåˆä½•ä¸ºåŠ¨æ€é¡µé¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("ä¸‹é¢æˆ‘ä¼šç›´æ¥è®²è§£ï¼Œä¸è®²é‚£ä¹ˆå¤šåºŸè¯ ğŸ™ˆã€‚")]),t._v(" "),a("ul",[a("li",[t._v("é™æ€é¡µé¢ï¼šé€šå¸¸ä»¥ html ç»“å°¾çš„æ–‡ä»¶ï¼Œæ‰€æœ‰æ•°æ®éƒ½æ˜¯ç›´æ¥å†™æ­»åˆ°æ–‡ä»¶ä¸­ï¼Œå®¢æˆ·ç«¯åŠ è½½é™æ€é¡µé¢æ—¶ï¼Œæ— éœ€å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œï¼Œè€Œæ˜¯ç›´æ¥å°†æ–‡ä»¶å†…å®¹å‘ˆç°å‡ºæ¥ã€‚")]),t._v(" "),a("li",[t._v("åŠ¨æ€é¡µé¢ï¼šé€šå¸¸ä»¥ phpã€jspã€asp ç»“å°¾çš„æ–‡ä»¶ï¼Œæ‰€æœ‰æ•°æ®éƒ½æ˜¯å­˜å‚¨åˆ°æ•°æ®åº“ä¸Šçš„ï¼Œå®¢æˆ·ç«¯è¯·æ±‚æ–‡ä»¶æ—¶ï¼ŒæœåŠ¡ç«¯éœ€ä»æ•°æ®åº“ä¸­è·å–æ•°æ®å¹¶åŠ¨æ€å¡«å……åˆ°æ–‡ä»¶ä¸­ï¼Œæœ€åå°†ä¸€ä¸ªå®Œæ•´çš„æ–‡ä»¶å†…å®¹ç›´æ¥è¿”å›åˆ°å®¢æˆ·ç«¯ä¸­ã€‚")])]),t._v(" "),a("p",[a("strong",[t._v("é™æ€é¡µé¢æ›´åƒæ˜¯æˆ‘ä»¬å¹³æ—¶å†™æ­»çš„ html å†…å®¹ï¼Œè€ŒåŠ¨æ€é¡µé¢æ›´åƒæ˜¯å‰ç«¯é¢†åŸŸç»å¸¸æåˆ°çš„æ¨¡æ¿å¼•æ“")]),t._v("ã€‚é‚£ä¹ˆé™æ€é¡µé¢å’ŒåŠ¨æ€é¡µé¢ä¹‹é—´åˆæœ‰ä½•åŒºåˆ«ï¼Ÿ")]),t._v(" "),a("p",[t._v("é™æ€é¡µé¢ç”±äºä¼šå°†æ‰€æœ‰å†…å®¹éƒ½å†™åœ¨ html æ–‡ä»¶ä¸­ï¼Œå› æ­¤ä¼šæ˜¾å¾—æ¯”è¾ƒå¤§ï¼Œå¹¶ä¸”æ¯æ¬¡æ›´æ”¹å†…å®¹æ—¶éƒ½å¿…é¡»ç”Ÿæˆæ–°çš„æ–‡ä»¶ã€‚è€ŒåŠ¨æ€é¡µé¢åˆšå¥½ç›¸åï¼Œç”±äºæ•°æ®éƒ½æ˜¯åŠ¨æ€æ·»åŠ çš„ï¼Œæ‰€ä»¥ä¼šæ˜¾å¾—æ¯”è¾ƒå°ï¼Œä½†æ˜¯æ•°æ®è·å–å†…éƒ¨å´éœ€è¦å‘å‡ºè¯·æ±‚ï¼Œå› æ­¤è®¿é—®é€Ÿåº¦ä¼šæ¯”é™æ€é¡µé¢æ…¢ã€‚")]),t._v(" "),a("p",[t._v("æ¥ç€æˆ‘ä»¬å†æ¥çœ‹çœ‹åœ¨æœåŠ¡å™¨ä¸­ï¼Œå®¢æˆ·ç«¯è®¿é—®é™æ€é¡µé¢æˆ–åŠ¨æ€é¡µé¢æµç¨‹æ˜¯æ€æ ·çš„ ğŸ¤”ã€‚")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("æœåŠ¡å™¨ä¸­è®¿é—®é™æ€é¡µé¢æµç¨‹")]),t._v(" "),a("p",[t._v("å®¢æˆ·ç«¯è®¿é—®ä¸€ä¸ªç½‘ç«™æ—¶ï¼Œå…ˆç»è¿‡ DNS è§£æå¾—åˆ°ç›¸åº”çš„ IP åœ°å€ï¼Œæ¥ç€ HTTP åè®®æˆ– HTTPS åè®®å°†å®¢æˆ·ç«¯è¯·æ±‚ä¼ åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚åå°±æŠŠç½‘ç«™ç›®å½•ä¸‹çš„ index.html è¿”å›åˆ°å®¢æˆ·ç«¯ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("æœåŠ¡å™¨ä¸­è®¿é—®åŠ¨æ€é¡µé¢æµç¨‹")]),t._v(" "),a("p",[t._v("ç›¸æ¯”è®¿é—®é™æ€é¡µé¢ï¼Œè®¿é—®åŠ¨æ€é¡µé¢åˆ™æ˜¯å¤šäº†å®¢æˆ·ç«¯å‘é€è¯·æ±‚å’ŒæœåŠ¡ç«¯å¤„ç†æ•°æ®å·¥ä½œã€‚")]),t._v(" "),a("p",[t._v("å®¢æˆ·ç«¯è®¿é—®ä¸€ä¸ªç½‘ç«™æ—¶ï¼Œå…ˆç»è¿‡ DNS è§£æå¾—åˆ°ç›¸åº”çš„ IP åœ°å€ï¼Œæ¥ç€ HTTP åè®®æˆ– HTTPS åè®®å°†å®¢æˆ·ç«¯è¯·æ±‚ä¼ åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚æ‰¾åˆ°ç½‘ç«™ç›®å½•ä¸‹çš„ index.php æ–‡ä»¶ï¼Œå¹¶æŠŠè¯¥æ–‡ä»¶ä¼ åˆ° php æœåŠ¡å™¨ä¸­ï¼Œphp æœåŠ¡å™¨åˆ©ç”¨è„šè§£ææˆåŠŸåå†æŠŠå†…å®¹è¿”å›åˆ°å®¢æˆ·ç«¯ã€‚")]),t._v(" "),a("p",[t._v("åœ¨ php è§£æè¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šå­˜åœ¨è®¿é—®æ•°æ®åº“è·å–ç›¸åº”æ•°æ®ï¼Œå¹¶æŠŠæ•°æ®åŠ¨æ€æ”¾åˆ°å†…å®¹ä¸­ã€‚")])])]),t._v(" "),a("p",[t._v("å…¶å®è¿˜æœ‰ä¸€ç§ç±»å‹æ˜¯"),a("strong",[t._v("ä¼ªé™æ€é¡µé¢ï¼ŒåŸç†å°±æ˜¯é€šè¿‡å°†åŠ¨æ€é¡µé¢çš„URLåœ°å€é‡å†™ï¼Œæ”¹å†™æˆä»¥htmlã€htmç­‰ç»“å°¾çš„é™æ€URLåœ°å€")]),t._v("ã€‚å®é™…ä¸Šè¿˜æ˜¯ä¸€ä¸ªåŠ¨æ€é¡µé¢çš„ Rewrite è¿‡ç¨‹ï¼Œå¯¹æœåŠ¡ç«¯çš„æ¶ˆè€—ä¼šå¢å¤§ã€‚")]),t._v(" "),a("h2",{attrs:{id:"nginxã€apacheå’ŒtomcatåŒºåˆ«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginxã€apacheå’ŒtomcatåŒºåˆ«"}},[t._v("#")]),t._v(" Nginxã€Apacheå’ŒTomcatåŒºåˆ«")]),t._v(" "),a("p",[t._v("ç›¸ä¿¡ç«¥é‹ä»¬å¯¹äº Apache å’Œ Tomcat æœåŠ¡å™¨éƒ½ä¸é™Œç”Ÿï¼Œé‚£ä¹ˆå®ƒä»¬ä¸‰è€…åˆæœ‰ä½•åŒºåˆ«ï¼Ÿ")]),t._v(" "),a("ul",[a("li",[t._v("Nginxï¼šweb æœåŠ¡å™¨ã€‚é‡‡å–"),a("strong",[t._v("å¼‚æ­¥éé˜»å¡")]),t._v("æ–¹å¼ï¼Œå¤šä¸ªè¿æ¥å¯¹åº”ä¸€ä¸ªè¿›ç¨‹ï¼Œåœ¨é«˜å¹¶å‘æƒ…å†µä¸‹èƒ½å¤„ç†æ›´å¤šçš„è¿æ¥è¯·æ±‚è€Œä¸å å¤ªå¤šçš„èµ„æºã€‚"),a("strong",[t._v("é™æ€é¡µé¢å¤„ç†èƒ½åŠ›è¾ƒå¼º")]),t._v("ï¼Œå°¤å…¶æ˜¯åå‘ä»£ç†æœåŠ¡è¡¨ç°çªå‡ºï¼Œå¸¸è¢«ç”¨ä½œè´Ÿè½½å‡è¡¡å’Œä»£ç†æœåŠ¡å™¨ä½¿ç”¨ã€‚")]),t._v(" "),a("li",[t._v("Apacheï¼šweb æœåŠ¡å™¨ã€‚é‡‡å–"),a("strong",[t._v("åŒæ­¥é˜»å¡")]),t._v("æ–¹å¼ï¼Œä¸€ä¸ªè¿æ¥å¯¹åº”ä¸€ä¸ªè¿›ç¨‹ï¼Œæå¤§é™åˆ¶äº†å¤„ç†å¤šä¸ªè¯·æ±‚æ€§èƒ½ã€‚"),a("strong",[t._v("æ”¯æŒçš„æ¨¡å—ä¼—å¤šï¼Œæ€§èƒ½ç¨³å®šï¼Œæœ¬èº«åªæ”¯æŒé™æ€è§£æï¼Œä½†å¯ä»¥é€šè¿‡æ‰©å±•è„šæœ¬ã€æ¨¡å—ç­‰æ”¯æŒåŠ¨æ€é¡µé¢")]),t._v("ã€‚åœ¨ Rwrite åŠŸèƒ½ä¸Šæ¯” Nginx å¥½å¾ˆå¤šï¼Œå¸¸ç”¨äºå¤„ç†åŠ¨æ€è¯·æ±‚ã€‚")]),t._v(" "),a("li",[t._v("Tomcatï¼šåº”ç”¨æœåŠ¡å™¨ã€‚ç”¨æ¥å¤„ç† jsp é¡µé¢å’Œè¿è¡Œ servletã€‚")])]),t._v(" "),a("p",[t._v("ç®€å•æ€»ç»“ä¸€ä¸‹ï¼ŒNginx å¤„ç†å¯¹è±¡å°±æ˜¯é™æ€é¡µé¢ï¼Œé‡‡å–å¼‚æ­¥éé˜»å¡æ–¹å¼ï¼Œå¸¸ä½œä¸ºåå‘ä»£ç†æœåŠ¡ã€‚Apache æœ¬èº«åªæ”¯æŒé™æ€é¡µé¢ï¼Œå¯é€šè¿‡ PHP è„šæœ¬ç¨‹åºæ”¯æŒåŠ¨æ€ PHP é¡µé¢æˆ– Tomcat æ”¯æŒ JSP é¡µé¢ï¼Œç”±äºå…¶æ”¯æŒæ¨¡å—ä¼—å¤šä»¥åŠ Rewrite åŠŸèƒ½å¼ºå¤§ï¼Œå› æ­¤åœ¨ç»“åˆç¬¬ä¸‰æ–¹æ¨¡å—è§£æåŠ¨æ€é¡µé¢å±‚é¢ä¸Šæ¯” Nginx æ˜¾å¾—å°¤ä¸ºçªå‡ºã€‚")]),t._v(" "),a("p",[t._v("æ€»ä¹‹ï¼Œ"),a("strong",[t._v("Nginx é€‚åˆå¤„ç†é™æ€è¯·æ±‚å’Œåå‘ä»£ç†ï¼ŒApache é€‚åˆå¤„ç†åŠ¨æ€è¯·æ±‚")]),t._v("ã€‚")]),t._v(" "),a("h2",{attrs:{id:"nginx-æ­£å‘ä»£ç†å’Œåå‘ä»£ç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-æ­£å‘ä»£ç†å’Œåå‘ä»£ç†"}},[t._v("#")]),t._v(" Nginx-æ­£å‘ä»£ç†å’Œåå‘ä»£ç†")]),t._v(" "),a("p",[t._v("åœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸å¬åˆ°æ­£å‘ä»£ç†ä»¥åŠåå‘ä»£ç†è¿™ä¸¤ä¸ªè¯ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("æ­£å‘ä»£ç†")]),t._v(" "),a("p",[t._v("ä¸€ä¸ªä½äºå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´ä»£ç†æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯å‘ä»£ç†æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚å¹¶æŒ‡å®šç›®æ ‡ï¼ˆå³åŸå§‹æœåŠ¡å™¨ IP åœ°å€ï¼‰ï¼Œç„¶åä»£ç†æœåŠ¡å™¨å‘åŸå§‹æœåŠ¡å™¨è½¬äº¤è¯·æ±‚å¹¶å°†è·å¾—çš„å†…å®¹è¿”å›ç»™å®¢æˆ·ç«¯ã€‚ä¾‹å¦‚æˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨çš„fanqiangã€‚")]),t._v(" "),a("p",[a("strong",[t._v("æ­£å‘ä»£ç†æœåŠ¡çš„ç›®æ ‡æ˜¯å®¢æˆ·ç«¯ï¼ˆå³å¯¹å®¢æˆ·ç«¯æ˜¯é€æ˜çš„ï¼‰ï¼Œå®¢æˆ·ç«¯å¯å‘ä»£ç†æœåŠ¡å™¨è®¿é—®åˆ°å®¢æˆ·ç«¯æœ¬èº«æ— æ³•è®¿é—®åˆ°çš„æœåŠ¡å™¨èµ„æºã€‚æ­£å‘ä»£ç†æœåŠ¡å™¨å¯¹äºæœåŠ¡ç«¯ä¸æ˜¯é€æ˜çš„ï¼ŒæœåŠ¡å™¨å¹¶ä¸çŸ¥é“è¯·æ±‚æ–¹æ˜¯ä»£ç†æœåŠ¡å™¨è¿˜æ˜¯å®¢æˆ·ç«¯")]),t._v("ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/Andraw-lin/keep-Learning/master/asset/%E6%AD%A3%E5%90%91%E4%BB%A3%E7%90%86.jpg",alt:"æ­£å‘ä»£ç†"}})])]),t._v(" "),a("li",[a("p",[t._v("åå‘ä»£ç†")]),t._v(" "),a("p",[t._v("æœåŠ¡å™¨ä½¿ç”¨ä¸€ä¸ªä»£ç†æœåŠ¡å™¨å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œä»£ç†æœåŠ¡å™¨å¯å°†è¯·æ±‚è½¬å‘åˆ°å†…éƒ¨ç½‘ç»œä¸Šçš„æœåŠ¡å™¨ï¼Œå¹¶å°†æœåŠ¡å™¨çš„è¿”å›ç»“æœç›´æ¥è¿”å›ç»™å®¢æˆ·ç«¯ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("åå‘ä»£ç†æœåŠ¡çš„ç›®æ ‡æ˜¯æœåŠ¡å™¨ï¼ˆå³å¯¹æœåŠ¡ç«¯æ˜¯é€æ˜çš„ï¼‰ï¼Œå¯¹å®¢æˆ·ç«¯è¯·æ±‚è¿›è¡Œå†…éƒ¨ç½‘ç»œçš„è½¬å‘ï¼Œè¿›è€Œå®ç°è´Ÿè½½å‡è¡¡ã€‚åå‘ä»£ç†å¯¹äºå®¢æˆ·ç«¯ä¸æ˜¯é€æ˜çš„ï¼Œå®¢æˆ·ç«¯å¹¶ä¸çŸ¥é“æœåŠ¡æ–¹æ˜¯ä»£ç†æœåŠ¡å™¨è¿˜æ˜¯åŸå§‹æœåŠ¡å™¨")]),t._v("ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/Andraw-lin/keep-Learning/master/asset/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86.jpg",alt:"åå‘ä»£ç†"}})])])]),t._v(" "),a("h2",{attrs:{id:"nginx-åŸºæœ¬ç»“æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-åŸºæœ¬ç»“æ„"}},[t._v("#")]),t._v(" Nginx-åŸºæœ¬ç»“æ„")]),t._v(" "),a("p",[t._v("åœ¨ç†è§£äº†æ­£å‘ä»£ç†å’Œåå‘ä»£ç†åï¼Œæˆ‘ä»¬å°±æ¥çœ‹çœ‹ Nginx åˆ°åº•åœ¨ç»“æ„ä¸Šæ˜¯é•¿å•¥æ ·çš„ã€‚ä¸‹é¢æ˜¯ Nginx çš„ä¸€ä¸ªåŸºæœ¬ç»“æ„")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# å…¨å±€å—")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("events")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("               "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# eventså—")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("http")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("                 "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# httpå—")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# serverå—")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" path "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# locationå—")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" path "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" path "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç°åœ¨å°±æ¥è§£æä¸€ä¸‹æ¯ä¸ªå­—æ®µåˆ°åº•æ˜¯ä»€ä¹ˆç”¨å¤„ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("å…¨å±€å—ï¼šé…ç½® Nginx æœåŠ¡å™¨çš„ç”¨æˆ·ï¼ˆç»„ï¼‰ã€å…è®¸ç”Ÿæˆçš„ worker process æ•°ã€è¿›ç¨‹ PID ç­‰ã€‚")]),t._v(" "),a("li",[t._v("eventså—ï¼šé…ç½®å½±å“ Nginx æœåŠ¡å™¨ä¸ç”¨æˆ·çš„ç½‘ç»œè¿æ¥ã€‚")]),t._v(" "),a("li",[t._v("httpå—ï¼šé…ç½®ä»£ç†ã€ç¼“å­˜å’Œæ—¥å¿—ç­‰ç»å¤§å¤šæ•°çš„åŠŸèƒ½å’Œç¬¬ä¸‰æ–¹æ¨¡å—çš„é…ç½®ã€‚")]),t._v(" "),a("li",[t._v("serverå—ï¼šé…ç½®è™šæ‹Ÿä¸»æœºç›¸å…³å†…å®¹ã€‚")]),t._v(" "),a("li",[t._v("locationå—ï¼šå¯¹äºè¯·æ±‚è·¯ç”±è¿›è¡ŒåŒ¹é…å¹¶ä½œç›¸åº”å¤„ç†ï¼Œè¿˜ç”¨äºå¤„ç†æ•°æ®ç¼“å­˜ã€åœ°å€é‡å®šå‘ç­‰é€»è¾‘ã€‚")])]),t._v(" "),a("h2",{attrs:{id:"nginx-å¤„ç†è·¨åŸŸ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-å¤„ç†è·¨åŸŸ"}},[t._v("#")]),t._v(" Nginx-å¤„ç†è·¨åŸŸ")]),t._v(" "),a("p",[t._v("é¢è¯•è¿‡ç¨‹ä¸­ï¼Œå¸¸å¸¸ä¼šè¢«é—®åŠå¦‚ä½•å¤„ç†è·¨åŸŸï¼Œå…¶ä¸­ä½¿ç”¨ Nginx è¯·æ±‚ä»£ç†æ˜¯å…¶ä¸­çš„ä¸€ç§å®ç°æ–¹æ¡ˆã€‚")]),t._v(" "),a("p",[t._v("é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹"),a("strong",[t._v("åŒæºç­–ç•¥ï¼Œå³åŒåè®®ã€åŒåŸŸåã€åŒç«¯å£")]),t._v("æƒ…å†µä¸‹ï¼Œæ‰å¯ä»¥åœ¨æµè§ˆå™¨ä¸­æ­£å¸¸è¯·æ±‚å¹¶å¾—åˆ°ç›¸åº”å†…å®¹ã€‚")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆå½“è¯·æ±‚ä¸ç¬¦åˆåŒæºç­–ç•¥æ—¶ï¼ŒNginx æ˜¯å¦‚ä½•å¤„ç†çš„å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯ "),a("strong",[t._v("proxy")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("Nginx å¤„ç†è·¨åŸŸçš„åŸç†æ˜¯ï¼Œ"),a("strong",[t._v("å½“ç½‘ç«™åœ°å€ a.com å‘ b.com å‘å‡ºè¯·æ±‚æ—¶ï¼Œå…ˆå¯åŠ¨ä¸€ä¸ª Nginx æœåŠ¡å™¨ï¼Œé…ç½®ç›¸åº”çš„ server å—åä¸º a.comï¼Œè®¾ç½® location å¯¹éœ€è¦è·¨åŸŸçš„è¯·æ±‚è¿›è¡Œæ‹¦æˆªï¼Œå¹¶å°†è¯·æ±‚ä»£ç†åˆ° b.com")]),t._v("ã€‚é…ç½®å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("listen")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server_name")]),t._v("  a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_pass")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"nginx-è¿‡æ»¤å’Œrewrite"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-è¿‡æ»¤å’Œrewrite"}},[t._v("#")]),t._v(" Nginx-è¿‡æ»¤å’ŒRewrite")]),t._v(" "),a("p",[t._v("åœ¨å‰ç«¯è·¯ç”±ä¸­ï¼Œå½“åŒ¹é…ä¸åˆ°è·¯ç”±æ—¶ï¼Œä¸€èˆ¬ä¼šç›´æ¥é‡å®šå‘åˆ° 404 é¡µé¢ã€‚å¦‚æœç°åœ¨æœ‰ä¸€ä¸ªä¸šåŠ¡é€»è¾‘ï¼Œå°±æ˜¯å½“åç«¯è¿”å›çš„çŠ¶æ€ç ä¸º502ã€500çŠ¶æ€ç æ—¶ï¼Œæˆ‘ä»¬éœ€è¦é‡å®šå‘åˆ°é¦–é¡µï¼Œå¯ä»¥å¦‚ä½•åšå‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå‰ç«¯çš„åšæ³•è‚¯å®šæ˜¯å¯¹ http çŠ¶æ€ç è¿›è¡Œè·å–ï¼Œç„¶ååŒ¹é…åˆ°ä¸º500æˆ–502æ—¶ï¼Œç›´æ¥æ‰‹åŠ¨é‡å®šå‘åˆ°é¦–é¡µã€‚è¿™åšæ³•å¯ä»¥è‚¯å®šæ˜¯å¯ä»¥çš„ï¼Œä½†æœªå…æ˜¾å¾—ç¨å¾®éº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Nginx å¯¹çŠ¶æ€è¿›è¡ŒåŒ¹é…é…ç½®å°±å¯ä»¥å¾ˆç®€å•æ»´å®ç°ä¸Šè¿°åŠŸèƒ½ã€‚é…ç½®å¦‚ä½•")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("error_page")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("502")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("root")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("root")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("static"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("html"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("é™¤æ­¤ä¹‹å¤–ï¼ŒNginx è¿˜å¯ä»¥å¯¹è·¯ç”±è¿›è¡Œé‡å†™ï¼Œå¦‚åŒ¹é…ä¸åˆ°è·¯ç”±æ—¶ç›´æ¥é‡å®šå‘åˆ°é¦–é¡µï¼Œé…ç½®å¦‚ä½•ã€‚")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("rewrite")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("$ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html  redirect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"nginx-gzipå‹ç¼©"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-gzipå‹ç¼©"}},[t._v("#")]),t._v(" Nginx-gzipå‹ç¼©")]),t._v(" "),a("p",[t._v("åœ¨ä¼˜åŒ–é¡¹ç›®ä¸Šï¼Œæˆ‘ä»¬éƒ½æ¸…æ¥šå¯¹äº js æ–‡ä»¶å’Œ css æ–‡ä»¶è¿›è¡Œ gzip å‹ç¼©ã€‚åœ¨æ‰€æœ‰æµè§ˆå™¨ä¸­ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒ gzip å‹ç¼©ï¼Œ"),a("strong",[t._v("è‹¥æµè§ˆå™¨æ”¯æŒ gzipï¼Œä¸€èˆ¬æƒ…å†µä¸‹åœ¨è¯·æ±‚å¤´ä¸Šé»˜è®¤è‡ªåŠ¨å¸¦ä¸Š"),a("code",[t._v("Accept-Encoding")]),t._v("æ¥æ ‡è¯†å¯¹ gzip å‹ç¼©çš„æ”¯æŒ")]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Accept-Encoding:")]),t._v(" gzip, deflate\n")])])]),a("p",[t._v("å¯åŠ¨ gzip å‹ç¼©åŒæ ·éœ€è¦æœåŠ¡ç«¯æ”¯æŒï¼Œå½“å®¢æˆ·ç«¯æ”¯æŒ gzip å‹ç¼©ï¼Œé‚£ä¹ˆ"),a("strong",[t._v("æœåŠ¡ç«¯åªéœ€è¦è¿”å› gzip æ ¼å¼æ–‡ä»¶å³å¯å¯ç”¨ gzip äº†ï¼Œé»˜è®¤å“åº”å¤´å­—æ®µä¸º"),a("code",[t._v("Content-Encoding")])]),t._v("ã€‚")]),t._v(" "),a("div",{staticClass:"language-http extra-class"},[a("pre",{pre:!0,attrs:{class:"language-http"}},[a("code",[a("span",{pre:!0,attrs:{class:"token header-name keyword"}},[t._v("Content-Encoding:")]),t._v(" gzip\n")])])]),a("p",[t._v("é‚£ä¹ˆï¼Œåœ¨ Nginx ä¸­æ˜¯å¦‚ä½•é…ç½®æ¥è®©æœåŠ¡ç«¯æ”¯æŒ gzip å‹ç¼©çš„ï¼Ÿçœ‹çœ‹å¦‚ä¸‹é…ç½®")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("gzip")]),t._v("                        on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("gzip_http_version")]),t._v("       "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("        \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("gzip_comp_level")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("gzip_min_length")]),t._v("         "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("gzip_types")]),t._v(" text"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("csv text"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("xml text"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("css text"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("plain text"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("javascript application"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("javascript application"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("x"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("javascript application"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("json application"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("xml"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("å¯ä»¥çœ‹åˆ°çš„æ˜¯ï¼Œgzip é»˜è®¤æ˜¯å…³é—­çš„ï¼Œå¹¶ä¸”é…ç½®æ—¶éœ€è¦è®¾å®š http ç‰ˆæœ¬ä¸º 1.1ï¼Œä¸ºä»€ä¹ˆï¼ŸåŸå› æ˜¯ http 1.1 æ”¯æŒ TCP æŒä¹…è¿æ¥ï¼Œè€Œ http 1.0 éœ€è¦é…ç½®"),a("code",[t._v("Connection:Â keep-alive")]),t._v("æ‰ä¼šæ˜¯æŒä¹…è¿æ¥ï¼Œéœ€çŸ¥é“çš„æ˜¯æŒä¹…è¿æ¥æœ‰åŠ©äºé¿å…æ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦é‡æ–° TCP å»ºç«‹è¿æ¥ã€‚")]),t._v(" "),a("h2",{attrs:{id:"nginx-è´Ÿè½½å‡è¡¡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-è´Ÿè½½å‡è¡¡"}},[t._v("#")]),t._v(" Nginx-è´Ÿè½½å‡è¡¡")]),t._v(" "),a("p",[a("strong",[t._v("è´Ÿè½½å‡è¡¡åŸç†æ˜¯åˆ©ç”¨ä¸€å®šçš„åˆ†é…ç­–ç•¥å°†ç½‘ç»œè´Ÿè½½å¹³è¡¡åœ°åˆ†é…åˆ°ç½‘ç»œé›†ç¾¤çš„å„ä¸ªæ“ä½œå•å…ƒä¸Šï¼Œä½¿å¾—å•ä¸ªé‡è´Ÿè½½ä»»åŠ¡ã€å¤§é‡å¹¶å‘è¯·æ±‚åˆ†æ‹…åˆ°å¤šä¸ªå•å…ƒä¸Šåˆ†åˆ«å¤„ç†ï¼Œä»è€Œå‡å°‘ç”¨æˆ·çš„ç­‰å¾…æ—¶é—´")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("åœ¨ Nginx ä¸­å¦‚ä½•å®ç°è´Ÿè½½å‡è¡¡å‘¢ï¼ŸæŒ‰ç…§ OSI ä¸ƒå±‚æ¨¡å‹ï¼Œ"),a("strong",[t._v("Nginx æœåŠ¡å™¨å®ç°çš„è´Ÿè½½å‡è¡¡ä¸€èˆ¬è®¤ä¸ºæ˜¯ä¸ƒå±‚è´Ÿè½½å‡è¡¡")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("é€šè¿‡ç¡¬ä»¶å®ç°çš„è´Ÿè½½å‡è¡¡æ•ˆæœå¥½ã€æ•ˆç‡é«˜ã€æ€§èƒ½ç¨³å®šï¼Œä½†æ˜¯ç¼ºé™·å°±æ˜¯æˆæœ¬å¤Ÿé«˜ã€‚è€Œ"),a("strong",[t._v("é€šè¿‡è½¯ä»¶å®ç°çš„è´Ÿè½½å‡è¡¡åˆ™æ˜¯ä¾èµ–äºå‡è¡¡ç®—æ³•çš„é€‰æ‹©å’Œç¨‹åºçš„å¥å£®æ€§")]),t._v("ã€‚å‡è¡¡ç®—æ³•ä¸»è¦åˆ†ä¸ºä¸¤å¤§ç±»ï¼šé™æ€è´Ÿè½½å‡è¡¡ç®—æ³•å’ŒåŠ¨æ€è´Ÿè½½å‡è¡¡ç®—æ³•ã€‚")]),t._v(" "),a("p",[t._v("å…¶ä¸­é™æ€è´Ÿè½½å‡è¡¡ç®—æ³•ä¸»è¦æœ‰"),a("strong",[t._v("ä¸€èˆ¬è½®è¯¢ç®—æ³•ã€åŸºäºæ¯”ç‡çš„åŠ æƒè½®è¯¢ç®—æ³•ã€åŸºäºä¼˜å…ˆçº§çš„åŠ æƒè½®è¯¢ç®—æ³•")]),t._v("ï¼Œç®—æ³•è¾ƒä¸ºç®€å•å¹¶ä¸”åœ¨"),a("strong",[t._v("ä¸€èˆ¬ç½‘ç»œä¸‹")]),t._v("éƒ½èƒ½å¾—åˆ°æ¯”è¾ƒå¥½çš„æ•ˆæœã€‚")]),t._v(" "),a("p",[t._v("è€ŒåŠ¨æ€è´Ÿè½½å‡è¡¡æœ‰åŸºäºä»»åŠ¡é‡çš„"),a("strong",[t._v("æœ€å°‘è¿æ¥ä¼˜å…ˆç®—æ³•")]),t._v("ã€åŸºäºæ€§èƒ½çš„"),a("strong",[t._v("æœ€å¿«å“åº”ä¼˜å…ˆç®—æ³•")]),t._v("ç­‰ï¼Œåœ¨è¾ƒä¸º"),a("strong",[t._v("å¤æ‚çš„ç½‘ç»œç¯å¢ƒ")]),t._v("ä¸­é€‚åº”æ€§å¼ºï¼Œæ•ˆæœæ›´å¥½ã€‚")]),t._v(" "),a("p",[t._v("Nginx é»˜è®¤æƒ…å†µä¸‹é‡‡ç”¨ä¸€èˆ¬è½®è¯¢ç®—æ³•ï¼Œä¸»è¦ä½¿ç”¨çš„é…ç½®æ˜¯ proxy_pass å’Œ upstream æŒ‡ä»¤ã€‚ç¤ºä¾‹é…ç½®å¦‚ä¸‹")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("upstream")]),t._v(" haha "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("listen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("htm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_pass")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("http")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("haha"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_set_header")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Host Shost"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä¸‹é¢å°±åœ¨ Nginx åŸºç¡€ä¸Šï¼Œå¯¹ä¸Šè¿°åˆ—ä¸¾çš„ç®—æ³•è¿›è¡Œé…ç½®")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("ä¸€èˆ¬è½®è¯¢ç®—æ³•ï¼šå°†å®¢æˆ·ç«¯è¯·æ±‚"),a("strong",[t._v("æŒ‰é¡ºåºè¿›è¡Œè½®è¯¢åˆ†é…")]),t._v("åˆ°ç›¸åº”çš„æœåŠ¡å™¨ä¸­ã€‚")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("upstream")]),t._v(" haha "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("æœ€å°‘è¿æ¥ä¼˜å…ˆç®—æ³•ï¼šå°†å®¢æˆ·ç«¯è¯·æ±‚ä¼˜å…ˆåˆ†é…åˆ°å‹åŠ›è¾ƒå°çš„æœåŠ¡å™¨ä¸­ï¼Œå¹³è¡¡æ¯ä¸ªé˜Ÿåˆ—çš„é•¿åº¦ã€‚")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("upstream")]),t._v(" haha "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  least_conn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("æœ€å¿«å“åº”ä¼˜å…ˆç®—æ³•ï¼šå¯¹å®¢æˆ·ç«¯æ‰€æœ‰è¯·æ±‚ä¸­å¤„ç†æ—¶é—´æœ€çŸ­çš„ä¼˜å…ˆåˆ†é…ã€‚")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("upstream")]),t._v(" haha "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  fair"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("å®¢æˆ·ç«¯ipç»‘å®šï¼šå¯¹å®¢æˆ·ç«¯è¯·æ±‚ä¸­æ¥è‡ªåŒä¸€ä¸ª IP çš„è¯·æ±‚åªåˆ†é…ä¸€å°æœºå™¨ï¼Œæœ‰æ•ˆè§£å†³åŠ¨æ€ç½‘é¡µå­˜åœ¨çš„ session å…±äº«é—®é¢˜ã€‚")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("upstream")]),t._v(" haha "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ip_hash")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".1")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v(".4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),a("h2",{attrs:{id:"nginx-ç¼“å­˜æœºåˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nginx-ç¼“å­˜æœºåˆ¶"}},[t._v("#")]),t._v(" Nginx-ç¼“å­˜æœºåˆ¶")]),t._v(" "),a("p",[a("strong",[t._v("Nginx ä½¿ç”¨ Proxy Cache å’Œ Proxy Store å®ç°ä»£ç†æœåŠ¡å™¨çš„ç¼“å­˜æœºåˆ¶")]),t._v("ã€‚")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("Proxy Store ç¼“å­˜æœºåˆ¶")]),t._v(" "),a("p",[t._v("è¯¥æŒ‡ä»¤"),a("strong",[t._v("é…ç½®æ˜¯å¦åœ¨æœ¬åœ°ç£ç›˜ç›´æ¥å¯¹æ¥è‡ªä»£ç†æœåŠ¡å™¨çš„å“åº”æ•°æ®è¿›è¡Œç¼“å­˜")]),t._v("ã€‚"),a("strong",[t._v("ä¸æä¾›ç¼“å­˜è¿‡æœŸæ›´æ–°ã€å†…å­˜ç´¢å¼•å»ºç«‹ç­‰åŠŸèƒ½ï¼Œä¸å ç”¨å†…å­˜ç©ºé—´ï¼Œå¯¹é™æ€æ•°æ®æ•ˆæœå¤Ÿå¥½")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("é…ç½®å¦‚ä¸‹")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_store")]),t._v(" on "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" off "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" string"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("Proxy Cache ç¼“å­˜æœºåˆ¶")]),t._v(" "),a("p",[a("strong",[t._v("ç”Ÿæˆä¸“é—¨çš„è¿›ç¨‹å¯¹ç£ç›˜ä¸Šçš„ç¼“å­˜æ–‡ä»¶è¿›è¡Œæ‰«æï¼Œåœ¨å†…å­˜ä¸­å»ºç«‹ç¼“å­˜ç´¢å¼•")]),t._v("ï¼Œæé«˜è®¿é—®æ•ˆç‡ï¼Œå¹¶ä¸”è¿˜ä¼š"),a("strong",[t._v("ç”Ÿæˆä¸“é—¨çš„ç®¡ç†è¿›ç¨‹å¯¹ç£ç›˜ä¸Šçš„ç¼“å­˜æ–‡ä»¶è¿›è¡Œè¿‡æœŸåˆ¤å®šã€æ›´æ–°ç­‰æ–¹é¢çš„ç®¡ç†")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("Proxy Cache ç¼“å­˜æœºåˆ¶ä¸ç®¡åœ¨æ€§èƒ½ä¸Šè¿˜æ˜¯åœ¨æ•°æ®ç®¡ç†ä¸Šè¦è¿œè¿œä¼˜äº Proxy Store ç¼“å­˜æœºåˆ¶ã€‚ä¸€èˆ¬é…ç½®å¦‚ä¸‹ã€‚")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("http")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_cache_path")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("proxyCache levels"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" max_size"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("m inactive"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("m loader_sleep"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" keys_zone"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("MYPROXYCACHE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("m "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é…ç½®ç¼“å­˜æ•°æ®å­˜æ”¾è·¯å¾„å’ŒProxy Cacheä½¿ç”¨çš„å†…å­˜Cacheç©ºé—´")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_temp_path")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("temp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é…ç½®å“åº”æ•°æ®çš„ä¸´æ—¶å­˜æ”¾ç›®å½•")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_pass")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("http")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("test"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Nginxç¼“å­˜é‡Œæ‹¿ä¸åˆ°èµ„æºï¼Œå‘è¯¥åœ°å€è½¬å‘è¯·æ±‚ï¼Œæ‹¿åˆ°æ–°çš„èµ„æºï¼Œå¹¶è¿›è¡Œç¼“å­˜")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_cache")]),t._v(" MYPROXYCACHE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æŒ‡å®šç”¨äºé¡µé¢ç¼“å­˜çš„å…±äº«å†…å­˜ï¼Œå¯¹åº”httpå±‚è®¾ç½®çš„keys_zone")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_cache_valid")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("302")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("h"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# é…ç½®200çŠ¶æ€å’Œ302çŠ¶æ€çš„å“åº”ç¼“å­˜1å°æ—¶")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),a("p",[t._v("å¦å¤–ï¼Œé™„ä¸Šä¸€ä¸ªé™æ€èµ„æºæœåŠ¡å™¨çš„é…ç½®ç¤ºèŒƒã€‚")]),t._v(" "),a("div",{staticClass:"language-nginx extra-class"},[a("pre",{pre:!0,attrs:{class:"language-nginx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" \\"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("png"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("gif"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("jpg"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("jpeg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("$ "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("root")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("root")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("static"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æŒ‡å®šè·¯å¾„å³ä¸ºNginxæœ¬åœ°è·¯å¾„")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("autoindex")]),t._v(" on"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("access_log")]),t._v("  off"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("expires")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("h"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# è®¾ç½®è¿‡æœŸæ—¶é—´ä¸º10å°æ—¶          ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=r.exports}}]);