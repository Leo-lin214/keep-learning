(window.webpackJsonp=window.webpackJsonp||[]).push([[105],{216:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"å…ˆç†è§£è®¡ç®—å±æ€§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…ˆç†è§£è®¡ç®—å±æ€§"}},[t._v("#")]),t._v(" å…ˆç†è§£è®¡ç®—å±æ€§")]),t._v(" "),a("p",[t._v("ä¸€æåŠåˆ° Vue çš„è®¡ç®—å±æ€§ï¼Œæƒ³å¿…å¤§å®¶éƒ½ä¼šæƒ³åˆ°å…¶æœ€å¤§çš„ä¼˜ç‚¹â€”â€”"),a("strong",[t._v("ç¼“å­˜")]),t._v("ã€‚å®˜æ–¹æ–‡æ¡£ä¹Ÿæœ‰æåˆ°")]),t._v(" "),a("blockquote",[a("p",[t._v("å¯¹äºä»»ä½•å¤æ‚é€»è¾‘ï¼Œä½ éƒ½åº”å½“ä½¿ç”¨"),a("strong",[t._v("è®¡ç®—å±æ€§")]),t._v("ã€‚")])]),t._v(" "),a("p",[t._v("å¦‚ä½•ç†è§£ï¼Ÿä¸æ˜¯å¯ä»¥ç›´æ¥ä½¿ç”¨æ–¹æ³•å¤„ç†å—ï¼Ÿè¯ä¸å¤šè¯´ï¼Œç›´æ¥çœ‹ä¸€ä¸ªæ —å­ ğŸŒ° ï¼š")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// html")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" allName "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAllName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("span"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" tag "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("span"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    firstName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'haha'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    lastName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hehe'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    tag"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  computed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("allName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" firstName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" lastName\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  methods"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAllName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" firstName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" lastName\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("ç›¸ä¿¡å¾ˆå¤šåŒå­¦å¯¹äºä¸Šè¿°çš„ä»£ç å¹¶ä¸é™Œç”Ÿï¼Œåœ¨ç•Œé¢ä¸Šå±•ç¤ºæ—¶ï¼Œ"),a("code",[t._v("allName")]),t._v("å’Œ"),a("code",[t._v("setAllName()")]),t._v("æ˜¾ç¤ºçš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚é‚£çœŸçš„å°±æ˜¯æ²¡æœ‰ä»»ä½•åŒºåˆ«äº†å—ï¼Ÿ")]),t._v(" "),a("p",[t._v("å…¶å®ä¸æ˜¯çš„ï¼Œå½“æˆ‘æŠŠå˜é‡"),a("code",[t._v("tag")]),t._v("çš„å€¼è®¾ä¸º true æ—¶ï¼Œè™½ç„¶å±•ç¤ºçš„æ•ˆæœä¸€æ ·ï¼Œä½†æ˜¯ä¸¤è€…èƒŒåæ¸²æŸ“åŸç†å®Œå…¨ä¸åŒã€‚å…¶ä¸­å°±æ˜¯ä¸Šé¢æåˆ°çš„ç¼“å­˜åŠŸèƒ½ã€‚")]),t._v(" "),a("p",[t._v("ä¸ºä½•è¿™ä¹ˆè¯´ï¼Ÿä½ åªè¦è®°ä½ä¸€ç‚¹ï¼Œ"),a("strong",[t._v("è®¡ç®—å±æ€§æ˜¯åŸºäºå®ƒä»¬çš„å“åº”å¼ä¾èµ–è¿›è¡Œç¼“å­˜çš„")]),t._v("ã€‚å› æ­¤ï¼Œå½“æŠŠå˜é‡"),a("code",[t._v("tag")]),t._v("çš„å€¼è®¾ä¸º true æ—¶ï¼Œç•Œé¢ä¼šé‡æ–°æ¸²æŸ“ï¼Œç”±äºè®¡ç®—å±æ€§"),a("code",[t._v("allName")]),t._v("æ˜¯åŸºäºå˜é‡ firstName å’Œ lastName çš„ï¼Œè€Œè¿™ä¸¤è€…å¹¶æ²¡æœ‰å˜åŒ–ï¼Œæ‰€ä»¥ä¼šç›´æ¥è¿”å›æ­¤å‰ä¿å­˜çš„è®¡ç®—å€¼å›æ¥ã€‚ç›¸åï¼Œæ–¹æ³•åˆ™ä¸å¤§ä¸€æ ·äº†ï¼Œå› ä¸ºé‡æ–°æ¸²æŸ“æ—¶ï¼Œæ¨¡æ¿è§£æ"),a("code",[t._v("setAllName")]),t._v("æ–¹æ³•æ—¶ï¼Œæ˜¯æ— æ³•è¾¨åˆ«å…¶æœ‰æ²¡æœ‰ä½¿ç”¨è¿‡è¯¥æ–¹æ³•çš„ï¼Œæ‰€ä»¥åˆä¼šé‡æ–°è®¡ç®—ä¸€éå¹¶è¿”å›å€¼å›æ¥ã€‚æœ€ç»ˆ"),a("strong",[t._v("åœ¨å¤„ç†æ•ˆç‡ä¸Šï¼Œè®¡ç®—å±æ€§æ˜¯å®Œèƒœæ–¹æ³•å¤„ç†çš„")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("å¦ä¸€æ–¹é¢ï¼Œæ—¢ç„¶è®¡ç®—å±æ€§æ˜¯åŸºäºå“åº”å¼ä¾èµ–è¿›è¡Œè®¡ç®—ä¸å¦çš„ï¼Œé‚£ä¹ˆå®ƒä¹Ÿå¯ä»¥å¾ˆå¥½æ»´å–ä»£æ‰ Watch ä¾¦å¬ã€‚ä»€ä¹ˆæ„æ€ï¼Ÿ")]),t._v(" "),a("p",[t._v("å¦‚æœä½ ä»¥å‰ç”¨è¿‡ Angular çš„è¯ï¼Œç›¸ä¿¡ä½ ä¼šæœ‰ä¸€ä¸ªå¾ˆå¤§çš„ä½“ä¼šï¼Œé‚£å°±æ˜¯æœ€å–œæ¬¢æ»¥ç”¨ watch æ¥ç›‘å¬æŸä¸ªå±æ€§æ˜¯å¦å˜åŒ–ï¼Œç„¶åæ¥è¿›è¡Œç›¸åº”çš„å¤„ç†ï¼Œé‚£ä¹ˆä½¿ç”¨è®¡ç®—å±æ€§çš„å‡ºç°å°±å¾ˆå¥½æ»´é¿å…äº†æ»¥ç”¨ watch è¡Œä¸ºï¼Œè®©ä»£ç åœ¨åæœŸçš„ç»´æŠ¤å’Œç†è§£ä¸Šéƒ½ä¼šæœ‰ä¸€ä¸ªè´¨çš„æå‡ã€‚å®˜æ–¹æ–‡æ¡£ä¸­ä¹Ÿæœ‰æåˆ°")]),t._v(" "),a("blockquote",[a("p",[t._v("é€šå¸¸æ›´å¥½çš„åšæ³•æ˜¯ä½¿ç”¨è®¡ç®—å±æ€§è€Œä¸æ˜¯å‘½ä»¤å¼çš„ "),a("code",[t._v("watch")]),t._v(" å›è°ƒã€‚")])]),t._v(" "),a("p",[t._v("åœ¨è¿™é‡Œï¼ŒçœŸçš„ç”±ä¸å¾—æ„Ÿå¹ä¸€ä¸‹ï¼Œå°¤å¤§å¤§å¯ä»¥å‘æ˜å‡ºè®¡ç®—å±æ€§å‡ºæ¥ã€‚ğŸ‘ğŸ½")]),t._v(" "),a("p",[t._v("æ—¢ç„¶ä¸Šé¢éƒ½è¯´åˆ°è®¡ç®—å±æ€§æœ‰é‚£ä¹ˆç‰›ï¼Œé‚£ç©¶ç«Ÿå®ƒæ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸¤æ–¹é¢è¿›è¡Œå…¥æ‰‹ï¼Œåˆ†åˆ«æ˜¯ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("è®¡ç®—å±æ€§æ˜¯å¦‚ä½•è¿›è¡Œè®¡ç®—çš„ï¼Ÿ")]),t._v(" "),a("li",[t._v("è®¡ç®—å±æ€§æ˜¯å¦‚ä½•è¿›è¡Œç¼“å­˜çš„ï¼Ÿ")])]),t._v(" "),a("h2",{attrs:{id:"ä»æºç è§’åº¦è¿›è¡Œåˆ†æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä»æºç è§’åº¦è¿›è¡Œåˆ†æ"}},[t._v("#")]),t._v(" ä»æºç è§’åº¦è¿›è¡Œåˆ†æ")]),t._v(" "),a("p",[t._v("è®©æˆ‘ä»¬å…ˆä»åˆå§‹åŒ–é˜¶æ®µæ˜¯å¦‚ä½•å¤„ç†è®¡ç®—å±æ€§çš„ï¼Œä¸Šæºç ")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" computedWatcherOptions "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" lazy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…³é”®ä¸­çš„å…³é”®ï¼Œç”¨äºç¼“å­˜ä½œç”¨çš„")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initState")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("vm")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("opts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("computed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initComputed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" opts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("computed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…ˆåˆ¤æ–­æ˜¯å¦å·²å®šä¹‰è®¡ç®—å±æ€§ï¼Œè‹¥æœ‰åˆ™ç›´æ¥åˆå§‹åŒ–è®¡ç®—å±æ€§")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initComputed")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" computed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" watchers "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_computedWatchers "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºä¸€ä¸ªçº¯å¯¹è±¡ï¼Œæ–°å»ºä¾èµ–æ‰€ç”¨")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" key "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" computed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" userDef "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" computed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–å½“å‰ç”¨æˆ·å®šä¹‰çš„è®¡ç®—å±æ€§")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" getter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" userDef "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'function'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" userDef "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" userDef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ¤æ–­å½“å‰å®šä¹‰çš„è®¡ç®—å±æ€§æ˜¯å¦ä¸ºå‡½æ•°ï¼Œè‹¥ä¸æ˜¯åˆ™ç›´æ¥è·å–å…¶ Getter")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("getter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸€æ—¦ getter ä¸æ˜¯å‡½æ•°æ—¶ï¼Œå°±ç»™å‡ºè­¦å‘Šï¼ˆè•´å«ç€çŸ¥è¯†ç‚¹ï¼Œundefined == nullï¼‰")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("warn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Getter is missing for computed property \\""')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\"."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        vm\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("isSSR"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸æ˜¯æœåŠ¡ç«¯æ¸²æŸ“æ—¶ï¼Œå°±ç›´æ¥ä¸ºæ¯ä¸ªè®¡ç®—å±æ€§åˆ›å»ºä¸€ä¸ªç›¸å…³ä¾èµ–")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// create internal watcher for the computed property.")]),t._v("\n      watchers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Watcher")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        getter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" noop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        noop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        computedWatcherOptions "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…³é”®ä¸­çš„å…³é”®ï¼Œç”¨äºç¼“å­˜ä½œç”¨çš„")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ¤æ–­æ˜¯å¦ä¸ºæ–°åˆ›å»ºçš„è®¡ç®—å±æ€§")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineComputed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" userDef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…³é”®å‡½æ•°ï¼Œä¸»è¦è´Ÿè´£è®¡ç®—å±æ€§å“åº”å¼å¤„ç†")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç†è§£è¿™æ®µä»£ç å¹¶ä¸éš¾ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªçŸ¥è¯†ç‚¹ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("ä½¿ç”¨"),a("code",[t._v("Object.create(null)")]),t._v("åˆ›å»ºä¸€ä¸ªçº¯å¯¹è±¡ï¼ˆç›¸å…³é“¾æ¥ï¼Œå¯çœ‹å…¶ä»–è¯é¢˜ä¸­"),a("a",{attrs:{href:"https://github.com/Andraw-lin/about-Vue/blob/master/docs/%E3%80%90%20Vue%20%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%20%E3%80%91%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%20Computed.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("Object.create(null) ä¸ {} ç©¶ç«Ÿæœ‰ä»€ä¹ˆä¸ä¸€æ ·"),a("OutboundLink")],1),t._v("ï¼‰")]),t._v(" "),a("li",[t._v("åˆ¤æ–­è®¡ç®—å±æ€§å®šä¹‰æ—¶çš„ç±»å‹")]),t._v(" "),a("li",[t._v("ä¸ºæ¯ä¸ªè®¡ç®—å±æ€§åˆ›å»ºå„è‡ªçš„ä¾èµ–")]),t._v(" "),a("li",[t._v("æ–°å®šä¹‰çš„è®¡ç®—å±æ€§ï¼Œä½¿ç”¨"),a("code",[t._v("defineComputed")]),t._v("æ–¹æ³•è¿›è¡Œå“åº”å¼å¤„ç†")])]),t._v(" "),a("p",[t._v("å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸ªè®¡ç®—å±æ€§æœ¬èº«å°±ä¼šè¢«ä½œä¸ºä¸€ä¸ª Watcher ä¾èµ–ï¼Œç°åœ¨å°±æ¥çœ‹çœ‹"),a("code",[t._v("defineComputed")]),t._v("æ–¹æ³•æ˜¯å¦‚ä½•è¿›è¡Œå“åº”å¼å¤„ç†çš„")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" sharedPropertyDefinition "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  enumerable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  configurable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" noop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" noop\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineComputed")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n \tkey"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n \tuserDef")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" shouldCache "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isServerRendering")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ˜¯å¦ä¸ºæœåŠ¡ç«¯æ¸²æŸ“")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" userDef "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'function'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é’ˆå¯¹è®¡ç®—å±æ€§ç›´æ¥å®šä¹‰ä¸ºå‡½æ•°çš„å½¢å¼")]),t._v("\n      sharedPropertyDefinition"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" shouldCache\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createComputedGetter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…³é”®å‡½æ•°ï¼Œä¸»è¦è´Ÿè´£è®¡ç®—å±æ€§çš„ç¼“å­˜ä»¥åŠä¸ $data å»ºç«‹ä¾èµ–æ”¶é›†")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createGetterInvoker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("userDef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      sharedPropertyDefinition"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" noop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¸€æ—¦å®šä¹‰çš„ä¸æ˜¯å‡½æ•°ç±»å‹ï¼Œåˆ™ç›´æ¥ä» Getter é‡Œé¢å»æ‹¿")]),t._v("\n      sharedPropertyDefinition"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" userDef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" shouldCache "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" userDef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cache "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createComputedGetter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…³é”®å‡½æ•°ï¼Œä¸»è¦è´Ÿè´£è®¡ç®—å±æ€§çš„ç¼“å­˜ä»¥åŠä¸ $data å»ºç«‹ä¾èµ–æ”¶é›†")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createGetterInvoker")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("userDef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" noop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      sharedPropertyDefinition"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" userDef"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" noop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sharedPropertyDefinition"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" noop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åŒæ—¶é’ˆå¯¹ Setter æœªè®¾ç½®ï¼Œé»˜è®¤é…ç½®ä¸€ä¸ªè­¦å‘Šå‡½æ•°")]),t._v("\n      sharedPropertyDefinition"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("set")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("warn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Computed property \\""')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\" was assigned to but it has no setter."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    Object"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineProperty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sharedPropertyDefinition"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿›è¡Œå“åº”å¼çš„å¤„ç†")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ç”±æ­¤å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸ªè®¡ç®—å±æ€§é™¤äº†è¢«å®šä¹‰ä¸º Watcher å¤–ï¼Œè¿˜ä¼šä½œä¸€ä¸ªå“åº”å¼å¤„ç†ã€‚ä¾¿äºå»ºç«‹ä¸é¡µé¢è°ƒç”¨æ—¶çš„ä¾èµ–ï¼Œä¸€æ—¦é¡µé¢æ›´æ–°åï¼ŒåŒæ—¶åˆ¤æ–­æ˜¯å¦éœ€è¦é‡æ–°è®¡ç®—ï¼Œç”±äºè®¡ç®—å±æ€§æ‹¥æœ‰ç€å¼ºå¤§çš„ç¼“å­˜åŠŸèƒ½ï¼Œå› æ­¤è‹¥ä¾èµ–çš„å“åº”å¼å±æ€§ data æ²¡æœ‰å˜åŒ–æ—¶ï¼Œåˆ™ä¼šç›´æ¥è¿”å›åŸæ¥è®¡ç®—çš„å€¼ï¼Œé¿å…é‡æ–°è®¡ç®—ã€‚")]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹çœ‹æ–¹æ³•"),a("code",[t._v("createComputedGetter")]),t._v("æ˜¯å¦‚ä½•å¤„ç†ç¼“å­˜ä»¥åŠä¸ $data å»ºç«‹ä¾èµ–æ”¶é›†çš„")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createComputedGetter")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("computedGetter")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" watcher "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_computedWatchers "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_computedWatchers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‹¿åˆ°æ¯ä¸€ä¸ªè®¡ç®—å±æ€§å·²ç»å®šä¹‰å¥½çš„ Watcher")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("watcher"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("watcher"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dirty"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¼“å­˜çš„å…³é”®ï¼Œåªæœ‰ dirty ä¸º true æ—¶æ‰ä¼šè¿›è¡Œé‡æ–°è®¡ç®—ï¼Œå¦åˆ™ç›´æ¥è·å–å·²ç»è®¡ç®—å¥½çš„å€¼")]),t._v("\n        watcher"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("evaluate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Dep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å»ºç«‹ä¾èµ–çš„å…³é”®ï¼Œå»ºç«‹ä¸é¡µé¢ä¹‹é—´çš„ä¾èµ–")]),t._v("\n        watcher"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("depend")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" watcher"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä¹Ÿè®¸æœ‰åŒå­¦ä¼šæœ‰ç–‘æƒ‘ï¼Œç©¶ç«Ÿ dirty æ˜¯ä»€ä¹ˆï¼Ÿä»¥åŠ Dep.target åˆæ˜¯å•¥ï¼Ÿ")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å…ˆæ¥é‡æ–°å›é¡¾ä¸€ä¸‹è®¡ç®—å±æ€§åœ¨åˆ›å»º Watcher æ—¶æ˜¯å¦‚ä½•ä¼ é€’å€¼çš„ï¼Œä»¥åŠ Wacther ç±»ä¸­æ˜¯å¦‚ä½•å¤„ç†çš„ã€‚")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// create internal watcher for the computed property.")]),t._v("\nwatchers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Watcher")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\tvm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  getter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" noop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  noop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  computedWatcherOptions "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…³é”®ä¸­çš„å…³é”®ï¼Œç”¨äºç¼“å­˜ä½œç”¨çš„")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("Watcher")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Watcher")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\tvm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n \texpOrFn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ›´æ–°å›è°ƒå‡½æ•°")]),t._v("\n \tcb"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n \toptions"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€‰é¡¹é…ç½®")]),t._v("\n \tisRenderWatcher\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n \t\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lazy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("options"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lazy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dirty "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lazy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è®¡ç®—å±æ€§åœ¨åˆ›å»º Watcher ä¾èµ–æ—¶ï¼Œä¼šä¼ é€’ä¸€ä¸ª lazy ä¸º true çš„å±æ€§ï¼Œè¯¥å±æ€§ä¸æ˜¯æ‡’æƒ°çš„æ„æ€ï¼Œå¯ä»¥ç†è§£æˆç¼“æ…¢å˜åŒ–çš„æ„æ€å³ä¸å˜ã€‚å°† lazy ç›´æ¥èµ‹äºˆåˆ° Watcher çš„ dirty å±æ€§ä¸­ï¼ˆè‡³äº dirty ï¼Œå¯ä»¥ç†è§£ä¸ºæ˜¯å¦ä¸ºè„æ•°æ®ï¼‰ã€‚å› æ­¤ä¸€å¼€å§‹ï¼Œè®¡ç®—å±æ€§åœ¨é¡µé¢ä¸­éƒ½ä¼šè¢«è®¡ç®—ä¸€éã€‚å¦ä¸€æ–¹é¢ï¼Œç”±äºä¼šæŠŠè®¡ç®—å±æ€§çš„ Getter å‡½æ•°ä¼ å…¥åˆ° Wacther ä½œä¸ºæ›´æ–°å›è°ƒå‡½æ•°ä½¿ç”¨ï¼Œä¸€æ—¦ä¾èµ–çš„å“åº”å¼å±æ€§å˜åŒ–æ—¶ï¼Œå°±ä¼šè°ƒç”¨æ›´æ–°å›è°ƒå‡½æ•°è¿›è¡Œé‡æ–°è®¡ç®—è®¡ç®—å±æ€§çš„å€¼ã€‚")]),t._v(" "),a("p",[t._v("å½“é¡µé¢ç¬¬ä¸€æ¬¡å¼•ç”¨äº†è®¡ç®—å±æ€§æ—¶ï¼Œdirty çš„å€¼è‚¯å®šä¼šä¸º true ï¼Œå°±ä¼šè°ƒç”¨ Watcher çš„ evaluate æ–¹æ³•ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ evaluate æ–¹æ³•")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * Evaluate the value of the watcher.\n * This only gets called for lazy watchers.\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Watcher")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("evaluate")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("evaluate")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dirty "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * Evaluate the getter, and re-collect dependencies.\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Watcher")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pushTarget")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" vm "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n    value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼•ç”¨å“åº”å¼å±æ€§ï¼Œå»ºç«‹ä¸å“åº”å¼å±æ€§ä¹‹é—´çš„ä¾èµ–")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("finally")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("popTarget")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" value\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("å¥½æ˜æ˜¾ï¼Œevaluate æ–¹æ³•å°±æ˜¯å¼€å§‹è®¡ç®—è®¡ç®—å±æ€§çš„å€¼ï¼Œç„¶åå†è®¾ç½®å…¶ dirty å±æ€§ä¸º falseï¼Œè¿™æ—¶å€™å°±ä¼šè¢«è®¤ä¸ºæ˜¯å·²ç»æ›´æ–°çš„å€¼äº†ï¼Œä¸‹ä¸€æ¬¡åœ¨è°ƒç”¨æ—¶å°±ä¸ä¼šè¿›è¡Œé‡æ–°è®¡ç®—ã€‚å¦ä¸€æ–¹é¢ï¼Œç”±äºåœ¨è°ƒç”¨ this.getter å‡½æ•°ï¼ˆå³æ›´æ–°å›è°ƒå‡½æ•°ï¼‰æ—¶ï¼Œä¼šå¼•ç”¨å“åº”å¼å±æ€§å¹¶åœ¨å“åº”å¼å±æ€§ä¸­æ”¶é›†åˆ°è®¡ç®—å±æ€§çš„ä¾èµ–ã€‚")]),t._v(" "),a("p",[t._v("é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä»€ä¹ˆæ—¶å€™ dirty æ‰ä¼šè¢«è®¾å› true ï¼Ÿè¿˜æœ‰å°±æ˜¯ä¸ºä»€ä¹ˆå¼•ç”¨å“åº”å¼å±æ€§å°±ä¼šåœ¨å“åº”å¼å±æ€§ä¸­æ”¶é›†åˆ°è®¡ç®—å±æ€§çš„ä¾èµ–ï¼Ÿç°åœ¨æˆ‘æ¥ç®€å•è§£æä¸€ä¸‹ï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("ä»€ä¹ˆæ—¶å€™ dirty æ‰ä¼šè¢«è®¾å› true ï¼Ÿ")]),t._v(" "),a("p",[t._v("è®¡ç®—å±æ€§çš„ Watcher åªä¼šè¢«æ”¶é›†åˆ°ç›¸å¯¹åº”çš„å“åº”å¼å±æ€§ä¸­ï¼Œå› æ­¤åœ¨å“åº”å¼å±æ€§æ›´æ”¹åï¼Œé€šçŸ¥åˆ°ç›¸å¯¹åº”çš„ Watcher è¿›è¡Œæ›´æ–°ï¼Œå…¶å®å°±ä¼šåœ¨ update å‡½æ•°ä¸­è¿›è¡Œè®¾ç½® dirty ä¸º falseï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * Subscriber interface.\n * Will be called when a dependency changes.\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Watcher")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("update")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* istanbul ignore else */")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lazy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dirty "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("å¯ä»¥çœ‹åˆ°ï¼Œç”±äºè®¡ç®—å±æ€§çš„ lazy ä¼š trueï¼Œå› æ­¤åœ¨å“åº”å¼å±æ€§æ›´æ–°æ—¶ï¼Œä½ æœ‰æ²¡æœ‰å‘ç°ä»…ä»…åªæ˜¯æŠŠ dirty è®¾å›ä¸º true ï¼Œå¹¶æ²¡æœ‰è°ƒç”¨æ›´æ–°å›è°ƒå‡½æ•°ï¼Ÿ")]),t._v(" "),a("p",[t._v("è¿™ä¹Ÿæ˜¯ä¸€ä¸ª"),a("strong",[t._v("ä¼˜åŒ–ç‚¹")]),t._v("ï¼Œå°±æ˜¯"),a("strong",[t._v("è¦ç­‰åˆ°é¡µé¢è°ƒç”¨çš„åœ°æ–¹æ›´æ–°æ—¶ï¼Œæ‰ä¼šé€šçŸ¥è®¡ç®—å±æ€§é‡æ–°è®¡ç®—å€¼")]),t._v("ï¼ˆç±»ä¼¼äºæˆ‘ä»¬çš„æŒ‰éœ€å¼•å…¥ä¸€æ ·ï¼‰ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("ä¸ºä»€ä¹ˆå¼•ç”¨å“åº”å¼å±æ€§å°±ä¼šåœ¨å“åº”å¼å±æ€§ä¸­æ”¶é›†åˆ°è®¡ç®—å±æ€§çš„ä¾èµ–ï¼Ÿ")]),t._v(" "),a("p",[t._v("ç›¸ä¿¡çœ‹åˆ°æˆ‘ä¹‹å‰çš„æ–‡ç« ï¼Œåº”è¯¥éƒ½çŸ¥é“ï¼Œå“åº”å¼å±æ€§éƒ½ä¼šè®¾ç½® Getter å’Œ Setter ï¼Œå› æ­¤å½“è®¡ç®—å±æ€§è®¡ç®—å€¼æ—¶ï¼Œä¼šå¼•ç”¨åˆ°å“åº”å¼å±æ€§ï¼Œè¿™æ ·æœºä¼šå°†è®¡ç®—å±æ€§çš„ Watcher æ”¶é›†åˆ°äº†å“åº”å¼å±æ€§ä¸­ã€‚")])])]),t._v(" "),a("p",[t._v("å¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†çœ‹çœ‹å¦‚ä¸‹ä»£ç ï¼Œç©¶ç«Ÿæ˜¯ä»€ä¹ˆç”¨å‘¢ï¼Ÿ")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Dep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å»ºç«‹ä¾èµ–çš„å…³é”®ï¼Œå»ºç«‹å“åº”å¼å±æ€§ä¸é¡µé¢ä¹‹é—´çš„ä¾èµ–")]),t._v("\n  watcher"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("depend")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n")])])]),a("p",[t._v("å‰é¢å¯ä»¥çœ‹åˆ°ï¼Œå½“å°†è®¡ç®—å±æ€§è¢«æ”¶é›†åˆ°å“åº”å¼å±æ€§ä¸­åï¼Œä¼šè°ƒç”¨"),a("code",[t._v("popTarget")]),t._v("æ–¹æ³•å°†"),a("code",[t._v("Dep.target")]),t._v("é‡æ–°æŒ‡å›åˆ°é¡µé¢çš„ Watcherï¼Œè¿™æ—¶å€™è°ƒç”¨")]),t._v(" "),a("p",[a("code",[t._v("watcher.depend()")]),t._v("åå°±ä¼šå°†é¡µé¢çš„ Watcher æ”¶é›†åˆ°äº†å“åº”å¼å±æ€§ä¸­ã€‚è¿™ä¹Ÿå°±è¯´æ˜ï¼Œå½“é¡µé¢è°ƒç”¨è®¡ç®—å±æ€§æ—¶ï¼Œå“åº”å¼æ›´æ”¹åï¼Œè®¾ç½®è®¡ç®—å±æ€§çš„ dirty ä¸º true åï¼Œå¹¶ä¸æ˜¯ç”±è®¡ç®—å±æ€§å»é€šçŸ¥é¡µé¢æ›´æ–°çš„ï¼Œè€Œæ˜¯ä»¥è®©æœ‰å“åº”å¼å±æ€§é€šçŸ¥é¡µé¢æ›´æ–°åï¼Œå†å»é‡æ–°è®¡ç®—è®¡ç®—å±æ€§çš„å€¼ã€‚")]),t._v(" "),a("p",[t._v("çœ‹åˆ°è¿™é‡Œï¼Œæ˜¯å¦ä¼šè¿·æƒ‘äº†ï¼ŸğŸ˜„ å…¶å®å°¤å¤§å¤§æ˜¯çœŸçš„å¾ˆå‰å®³ï¼Œåˆ©ç”¨ä¸€ä¸ªæ ‡è®°ä½æ¥å®ç°è®¡ç®—å±æ€§çš„ç¼“å­˜åŠŸèƒ½ï¼Œè€Œä¸”åªæœ‰åœ¨è°ƒç”¨åˆ°å…¶è®¡ç®—å±æ€§æ—¶æ‰å»å¼€å§‹è®¡ç®—å…¶å€¼ï¼Œå®ç°äº†ä¸€ä¸ªæŒ‰éœ€è°ƒç”¨çš„æ€æƒ³ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬ç°åœ¨æ¥æ€»ç»“ä¸€ä¸‹ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å®šä¹‰è®¡ç®—å±æ€§æ—¶ï¼Œä¼šä¾æ¬¡ä¸ºæ¯ä¸€ä¸ªè®¡ç®—å±æ€§åˆ›å»ºç›¸åº”çš„ Watcherï¼Œå¹¶è®¾ç½®æˆå“åº”å¼ï¼›")]),t._v(" "),a("li",[t._v("å½“æ¨¡æ¿ä¸­å¼•ç”¨åˆ°è®¡ç®—å±æ€§æ—¶ï¼Œä¼šå…ˆå°†è®¡ç®—å±æ€§çš„ Watcher æ”¶é›†åˆ°ç›¸åº”çš„å“åº”å¼å±æ€§ä¸­ï¼Œå¹¶ä¸”è®¡ç®—åˆ°å€¼åä¼šæŠŠ"),a("code",[t._v("dirty")]),t._v("ç¼“å­˜æ ‡è®°ä½è®¾ç½®ä¸º falseï¼Œè¿™æ ·ä¸€æ¥ï¼Œä¸‹æ¬¡æ¨¡æ¿æ›´æ–°åï¼Œå‘ç°"),a("code",[t._v("dirty")]),t._v("æ ‡è®°ä½ä¸º falseï¼Œå°±ä¸ä¼šé‡æ–°è®¡ç®—ã€‚åŒæ—¶å“åº”å¼å±æ€§ä¼šæ”¶é›†åˆ°æ¨¡æ¿çš„ Watherï¼›")]),t._v(" "),a("li",[t._v("å½“å“åº”å¼å±æ€§æ›´æ”¹æ—¶ï¼Œä¼šå…ˆè®¾ç½®è®¡ç®—å±æ€§çš„"),a("code",[t._v("dirty")]),t._v("ç¼“å­˜æ ‡è®°ä½ä¸º trueï¼Œç„¶åé€šçŸ¥æ¨¡æ¿è¿›è¡Œæ›´æ–°ã€‚æ¨¡æ¿åœ¨æ›´æ–°çš„è¿‡ç¨‹ä¸­å‘ç°è®¡ç®—å±æ€§çš„"),a("code",[t._v("dirty")]),t._v("ç¼“å­˜æ ‡è®°ä½ä¸º trueï¼Œè¿™æ—¶å€™å°±ä¼šé‡æ–°è®¡ç®—å…¶å€¼å¹¶è¿”å›ï¼›")])])])}),[],!1,null,null,null);s.default=e.exports}}]);