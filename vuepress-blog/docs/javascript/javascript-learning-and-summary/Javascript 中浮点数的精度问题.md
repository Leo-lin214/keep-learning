# Javascript ä¸­æµ®ç‚¹æ•°çš„ç²¾åº¦é—®é¢˜

åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œå¸¸å¸¸ä¼šé‡åˆ°å‰ç«¯éœ€è¦è®¡ç®—ä¸šåŠ¡ï¼Œç”±äºç²¾åº¦é—®é¢˜ï¼Œåç«¯ä¸€èˆ¬éƒ½ä¸ä¼šæ”¾å¿ƒæ»´å°†è®¡ç®—éƒ½äº¤ç»™å‰ç«¯æ¥ç®—ï¼Œç‰¹åˆ«æ˜¯æ¶‰åŠåˆ°é‡‘é’±æ–¹é¢çš„ä¸šåŠ¡ï¼ˆå°‘0.1å…ƒè¿˜å¥½ï¼Œå°‘100å…ƒå¯å°±å¤§äºå‘€...ï¼‰ã€‚ä¸ºæ­¤ï¼Œå‰ç«¯åŒäº‹ä¸€èˆ¬éƒ½ä¸æ•¢èƒŒè¿™é”…ï¼Œç›´æ¥äº¤ç»™åç«¯å…¨ç›˜æ¥æ‰‹ä¸šåŠ¡ã€‚ğŸ¤£

æ—¢ç„¶è°ˆåˆ°ç²¾åº¦é—®é¢˜ï¼Œé‚£ç©¶ç«Ÿæ‰€è°“çš„ç²¾åº¦é—®é¢˜åˆæ˜¯å¦‚ä½•çš„å‘¢ï¼Ÿæˆ‘ä»¬æ¥ç€æ¢ç©¶ä¸‹å»ã€‚



## ç›®å½•

1. [ç²¾åº¦é—®é¢˜](#js1)
2. [äºŒè¿›åˆ¶å’Œåè¿›åˆ¶é—´äº’è½¬](#js2)
3. [å¦‚ä½•è§£å†³ç²¾åº¦é—®é¢˜ï¼Ÿ](#js3)



## ç²¾åº¦é—®é¢˜

ç›¸ä¿¡å¤§å®¶åœ¨åˆšå­¦ä¹  js æ—¶ï¼Œå°±æœ‰å¬è¯´è¿‡åƒä¸‡åˆ«ä½¿ç”¨ js æ¥è¿›è¡Œè®¡ç®—ï¼Œå› ä¸º js è®¡ç®—èµ·æ¥å¯æ˜¯æœ‰è¯¯å·®ï¼Ÿ

é‚£ä¹ˆä¸ºä»€ä¹ˆ js åœ¨è®¡ç®—æ—¶å°±æœ‰è¯¯å·®å‘¢ï¼Ÿ

ç­”æ¡ˆå°±æ˜¯ä»Šå¤©çš„ä¸»é¢˜â€”â€”æµ®ç‚¹æ•°çš„ç²¾åº¦é—®é¢˜ã€‚

åœ¨è®²è§£ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ä¸€äº›å¸¸å‡ºç°æµ®ç‚¹æ•°ç²¾åº¦å¯¼è‡´çš„è®¡ç®—å‡ºç°è¯¯å·®ã€‚

```javascript
// åŠ æ³• =====================
// 0.1 + 0.2 = 0.30000000000000004
// 0.7 + 0.1 = 0.7999999999999999
// 0.2 + 0.4 = 0.6000000000000001
// 2.22 + 0.1 = 2.3200000000000003
 
// å‡æ³• =====================
// 1.5 - 1.2 = 0.30000000000000004
// 0.3 - 0.2 = 0.09999999999999998
 
// ä¹˜æ³• =====================
// 19.9 * 100 = 1989.9999999999998
// 19.9 * 10 * 10 = 1990
// 1306377.64 * 100 = 130637763.99999999
// 1306377.64 * 10 * 10 = 130637763.99999999
// 0.7 * 180 = 125.99999999999999
// 9.7 * 100 = 969.9999999999999
// 39.7 * 100 = 3970.0000000000005
 
// é™¤æ³• =====================
// 0.3 / 0.1 = 2.9999999999999996
// 0.69 / 10 = 0.06899999999999999
```

ä¸Šé¢çš„ğŸŒ°ï¼Œéƒ½æ˜¯å€Ÿç”¨ä¸€ä¸‹ç½‘ä¸Šæä¾›çš„ä¸€äº›å¸¸è§ç”±äºæµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜å¯¼è‡´è®¡ç®—æœ‰è¯¯å·®ã€‚

æŒ‰ç…§å®˜æ–¹çš„è§£é‡Šï¼Œ**Javascript éµå¾ªçš„æ˜¯[IEEE 754 äºŒè¿›åˆ¶æµ®ç‚¹æ•°ç®—æœ¯æ ‡å‡†](https://baike.baidu.com/item/IEEE 754/3869922?fr=aladdin)ä¸­64ä½åŒç²¾åº¦æµ®ç‚¹æ•°ã€‚**

æ ¹æ®è¿™ä¸ªæ ‡å‡†ï¼Œ**Javascript å¼€å‘ä¸­å®šä¹‰æ•°æ®ä¸€èˆ¬éƒ½æ˜¯åè¿›åˆ¶ï¼Œå› æ­¤åœ¨è®¡ç®—è¿‡ç¨‹ä¸­ï¼Œéƒ½ä¼šå°†æ‰€æœ‰åè¿›åˆ¶æ•°å€¼è½¬æ¢æˆäºŒè¿›åˆ¶æ•°å€¼æ¥è¿›è¡Œè®¡ç®—**ã€‚

é‚£ä¹ˆï¼Œåˆå¦‚ä½•ç†è§£64ä½åŒç²¾åº¦æµ®ç‚¹æ•°å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸ªç»“æ„å›¾å°±æ¸…æ¥šå•¦ã€‚

![64ä½åŒç²¾åº¦æµ®ç‚¹æ•°](https://raw.githubusercontent.com/Andraw-lin/keep-Learning/master/asset/64%E4%BD%8D%E5%8F%8C%E7%B2%BE%E5%BA%A6%E6%B5%AE%E7%82%B9%E6%95%B0.jpg)

ç°åœ¨å°±æ¥ç®€å•é˜è¿°ä¸€ä¸‹ä¸Šé¢ç»“æ„å›¾çš„æåˆ°çš„è¯æ±‡ã€‚

- ç¬¦å·éƒ¨åˆ†ï¼šå 1ä½ï¼Œä½¿ç”¨ s è¡¨ç¤ºï¼Œå…¶ä¸­0å¼€å¤´è¡¨ç¤ºä¸ºæ­£æ•°ï¼Œ1å¼€å¤´è¡¨ç¤ºä¸ºè´Ÿæ•°ã€‚
- æŒ‡æ•°éƒ¨åˆ†ï¼šå 11ä½ï¼Œä½¿ç”¨ e è¡¨ç¤ºï¼Œç”¨äºå­˜å‚¨æŒ‡æ•°éƒ¨åˆ†ã€‚
- å°¾æ•°éƒ¨åˆ†ï¼šå 52ä½ï¼Œä½¿ç”¨ f è¡¨ç¤ºï¼Œ**çœŸæ­£ç”¨äºå­˜å‚¨æœ‰æ•ˆæ•°å­—éƒ¨åˆ†ï¼ˆå¿…é¡»å¾—æ•²é»‘æ¿ï¼ï¼‰**ã€‚

**ç¬¦å·éƒ¨åˆ†ç”¨äºå†³å®šä¸€ä¸ªæ•°å€¼çš„æ­£è´Ÿï¼ŒæŒ‡æ•°éƒ¨åˆ†åˆ™å†³å®šäº†ä¸€ä¸ªæ•°å€¼çš„å¤§å°ï¼Œå°¾æ•°éƒ¨åˆ†å†³å®šä¸€ä¸ªæ•°å€¼çš„ç²¾åº¦**ã€‚ä¸€ä¸ªæœ‰æ•ˆæ•°å­—çš„æè¿°åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œåˆ™æ˜¯ç›´æ¥ç”±ç¬¦å·ä½å’Œå°¾æ•°éƒ¨åˆ†æ‰€å†³å®šï¼Œå› æ­¤ **Javascript æä¾›çš„æœ‰æ•ˆæ•°å­—ä¸º 53 ä¸ªäºŒè¿›åˆ¶ä½ï¼ˆå³ç¬¦å·ä½+52ä½å°¾æ•°ï¼‰**ã€‚

æ­£æ˜¯ç”±äºæœ‰æ•ˆæ•°å­—ä¸º 53 ä¸ªäºŒè¿›åˆ¶ä½ï¼Œæ‰€ä»¥æ•°å€¼ä¹Ÿè¢«é™åˆ¶åœ¨ -(2^53 - 1) ~ 2^53 - 1 ä¹‹é—´ï¼ˆå³Number.MAX_SAFE_INTEGER === 9007199254740991 åˆ° Number.MIN_SAFE_INTEGER === -9007199254740991ä¹‹é—´ï¼‰ã€‚

ä¸€æ—¦è¶…å‡ºè¿™ä¸ªæ•°å€¼èŒƒå›´ä¼šæ€æ ·ï¼Ÿç­”æ¡ˆå°±æ˜¯æˆªå–ã€‚

è€Œ**äºŒè¿›åˆ¶è¶…å‡ºèŒƒå›´æ—¶æˆªå–æ–¹å¼ä¹Ÿæ˜¯ç›´æ¥å¯¼è‡´äº† Javascript ä¸­è®¡ç®—çš„ç²¾åº¦é—®é¢˜**ã€‚

è®©æˆ‘ä»¬æ¥çœ‹ä¸ªğŸŒ°ï¼Œä½ å°±çŸ¥é“äº†ã€‚

```javascript
console.log(90071992547409910) // 90071992547409900
```

ç”±ä¸Šé¢çš„æ —å­å°±å¯ä»¥æ¸…æ¥šçœ‹åˆ°ï¼Œç”±äºæ•°å€¼ 90071992547409910 ç›´æ¥è¶…å‡ºäº†æœ€å¤§èŒƒå›´ 9007199254740991 ï¼Œæœ€ç»ˆå°†ä¼šè¿›è¡Œæˆªå–ï¼Œè€Œæˆªå–åè¾“å‡ºçš„ç»“æœå°±ä¸º 90071992547409900ã€‚



## äºŒè¿›åˆ¶å’Œåè¿›åˆ¶é—´äº’è½¬

å¤§æ¦‚äº†è§£ Javascript ç²¾åº¦é—®é¢˜çš„å¼•èµ·åŸå› åï¼Œç°åœ¨å°±æ¥ç®€å•å›é¡¾ä¸€ä¸‹ï¼Œæ•°å€¼æ˜¯å¦‚ä½•è½¬åŒ–ä¸ºäºŒè¿›åˆ¶çš„ã€‚æ¯•ç«Ÿè¿™éƒ½æ˜¯å¤§å­¦é‡Œå­¦è¿‡çš„çŸ¥è¯†ï¼Œç°åœ¨è¿˜å¾—æ¥ç®€å•åˆ—ä¸€ä¸‹ï¼Œé¿å…çœ‹åˆ°äºŒè¿›åˆ¶å°±æ‡µé€¼å“ˆå“ˆã€‚ğŸ˜„ï¼ˆå½“ç„¶ä½ å¯ä»¥ç›´æ¥è·³è¿‡å“ˆ...ï¼‰

äºŒè¿›åˆ¶è½¬åŒ–ä¸ºåè¿›åˆ¶ï¼Œé‡‡ç”¨çš„æ˜¯**æŒ‰æƒç›¸åŠ **æ–¹å¼ã€‚

```javascript
1100 = 1 * 2^0 + 1 * 2^1 + 0 * 2^2 + 0 * 2^3 = 3
// äºŒè¿›åˆ¶1100ç›¸å½“äºåè¿›åˆ¶3
```

åè¿›åˆ¶æ•´æ•°éƒ¨åˆ†è½¬åŒ–ä¸ºäºŒè¿›åˆ¶ï¼Œé‡‡ç”¨çš„æ˜¯**é™¤2å–ä½™ï¼Œé€†åºæ’åˆ—**æ–¹å¼ã€‚å€Ÿç”¨ä¸€ä¸ªå›¾

![åè¿›åˆ¶æ•´æ•°éƒ¨åˆ†è½¬åŒ–ä¸ºäºŒè¿›åˆ¶](https://www.runoob.com/wp-content/uploads/2018/11/210-2.png)

åè¿›åˆ¶å°æ•°éƒ¨åˆ†è½¬åŒ–ä¸ºäºŒè¿›åˆ¶ï¼Œé‡‡ç”¨çš„æ˜¯**ä¹˜2å–æ•´ï¼Œé¡ºåºæ’åˆ—**æ–¹å¼ã€‚ç»§ç»­å€Ÿç”¨ä¸€ä¸ªå›¾

![åè¿›åˆ¶å°æ•°éƒ¨åˆ†è½¬åŒ–ä¸ºäºŒè¿›åˆ¶](https://www.runoob.com/wp-content/uploads/2018/11/210-3.png)

é‚£ä¹ˆï¼Œç°åœ¨å°±æ‹¿`0.1 + 0.2`ä¸¾ä¸ªä¾‹å­ã€‚å…ˆçœ‹çœ‹0.1å’Œ0.2è½¬åŒ–ä¸ºäºŒè¿›åˆ¶åçš„æ•°å€¼ã€‚

```javascript
0.1 -> 0.0001100110011001...(æ— é™)
0.2 -> 0.0011001100110011...(æ— é™)
```

å¯ä»¥çœ‹åˆ°ï¼Œ**0.1å’Œ0.2è½¬åŒ–ä¸ºäºŒè¿›åˆ¶åï¼Œåé¢éƒ½æ˜¯å¾ªç¯æ— é™çš„ï¼Œå°±ç®—å®ƒä»¬è¿›è¡Œç›¸åŠ åä¹Ÿè¿˜æ˜¯å¾ªç¯æ— é™çš„**ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œ**æœ‰æ•ˆæ•°å€¼èŒƒå›´æ˜¯53ä½ï¼Œä¸€æ—¦è¶…è¿‡å°±ä¼šè¢«æˆªå–**ï¼Œè¿™ä¹Ÿç›´æ¥å¯¼è‡´æˆªå–åˆ°çš„ç»“æœä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚

```javascript
0.1 + 0.2 === 0.30000000000000004
```



## å¦‚ä½•è§£å†³ç²¾åº¦é—®é¢˜ï¼Ÿ

æ—¢ç„¶ Javascript ç”±äºéµå¾ª IEEE 754 äºŒè¿›åˆ¶æµ®ç‚¹è¿ç®—çš„æ ‡å‡†ï¼Œé‚£ä¹ˆå‰ç«¯å°±çœŸçš„æ— æ³•è§£å†³æ‰€è°“çš„ç²¾åº¦é—®é¢˜äº†å—ï¼Ÿç­”æ¡ˆå´æ˜¯å¦å®šçš„ã€‚æˆ‘ä»¬å°±æ¥çœ‹çœ‹ç©¶ç«Ÿæœ‰å“ªäº›æ–¹æ³•å¯ä»¥è§£å†³ï¼Ÿ

1. å¼•ç”¨ç¬¬ä¸‰æ–¹åº“ã€‚

   ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯å°½é‡ä¸éœ€è¦å‰ç«¯è®¡ç®—ï¼Œä¸ºæ­¤å¤æ‚çš„è®¡ç®—é—®é¢˜éƒ½äº¤ç»™æœåŠ¡å™¨è¿›è¡Œè®¡ç®—ã€‚åŒæ ·åœ°ï¼Œæˆ‘ä»¬**å°†è®¡ç®—é—®é¢˜éƒ½å¯ä»¥äº¤ç»™ç¬¬ä¸‰æ–¹åº“å¤„ç†ï¼Œæ˜¯ä¸€ç§æ¯”è¾ƒæ–¹ä¾¿çš„å¤„ç†æ–¹æ¡ˆ**ã€‚

   - **Math.js**

     Math.js æ˜¯ä¸“é—¨ä¸º JavaScript å’Œ Node.js æä¾›çš„ä¸€ä¸ªå¹¿æ³›çš„æ•°å­¦åº“ï¼Œæä¾›é›†æˆè§£å†³æ–¹æ¡ˆæ¥å¤„ç†ä¸åŒçš„æ•°æ®ç±»å‹ã€‚

   - **decimal.js**

     ä¸º JavaScript æä¾›åè¿›åˆ¶ç±»å‹çš„ä»»æ„ç²¾åº¦æ•°å€¼ã€‚

   - **big.js**

     ä¸€ä¸ªå°å‹ï¼Œå¿«é€Ÿçš„JavaScriptåº“ï¼Œç”¨äºä»»æ„ç²¾åº¦çš„åè¿›åˆ¶ç®—æœ¯è¿ç®—ã€‚

2. ä½¿ç”¨ toFixed æ–¹æ³•ã€‚

   ç›¸ä¿¡å¤§éƒ¨åˆ†ç«¥é‹éƒ½ä½¿ç”¨è¿‡ toFixed æ–¹æ³•å¤„ç†ç²¾åº¦é—®é¢˜ï¼ŒtoFixed æ–¹æ³•æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œç”¨äºä¿ç•™å°æ•°ç‚¹åå‡ ä½å°æ•°ï¼Œå¾—åˆ°çš„æ•°å­—ä¼šä»¥**å››èˆäº”å…¥**çš„æ–¹å¼è¿›è¡Œè½¬åŒ–ã€‚

   ```javascript
   console.log((0.1 + 0.2).toFixed(1)) // 0.3
   ```

   ä½†æ˜¯ toFixed æ–¹æ³•ä¼šå­˜åœ¨æŸäº›å°é—®é¢˜ï¼Œåœ¨ IE ä¸Šæµ‹è¯•æ˜¯æ­£å¸¸çš„ï¼Œä¸€æ—¦åˆ° chromeï¼Œå¯èƒ½å°±ä¼šæœ‰ä¸€äº›å°æ¯›ç—…å‡ºæ¥äº†ã€‚çœ‹ä¸‹é¢è¿™ä¸ªğŸŒ°ï¼š

   ```javascript
   console.log((1.25).toFixed(1)) // 1.3 æ­£ç¡®
   console.log((1.225).toFixed(2)) // 1.23 æ­£ç¡®
   console.log((1.2225).toFixed(3)) // 1.222 é”™è¯¯
   console.log((1.22225).toFixed(4)) // 1.2223 æ­£ç¡®
   console.log((1.222225).toFixed(5))  // 1.22222 é”™è¯¯
   console.log((1.2222225).toFixed(6)) // 1.222222 é”™è¯¯
   ```

   å¯ä»¥çœ‹åˆ°ï¼Œ**toFixed æ–¹æ³•è™½å¥½ï¼Œä½†åœ¨å¤„ç†æŸäº›æµ®ç‚¹æ•°æ—¶ï¼Œä¸åŒæµè§ˆå™¨ä¹Ÿä¼šå¾—åˆ°ä¸ä¸€æ ·çš„ç»“æœï¼ˆå³ç²¾åº¦ä¸¢å¤±ï¼‰**ã€‚

   ä¸ºæ­¤ï¼Œç½‘ä¸Šæœ‰äº›å¤§ç¥ä»¬ä¹Ÿæ˜¯æ¨èç›´æ¥é‡å†™æ•°å€¼çš„ toFixed æ–¹æ³•ã€‚

   ```javascript
   Number.prototype.toFixed = function(len) {
     if(len > 20 || len < 0) {
       throw new Error('toFixed method must length in 0 ~ 20')
     }
     const num = Number(this) // å°†.123è½¬åŒ–ä¸º0.123
     if(isNaN(num) || num >= Math.pow(10, 21)) { // åˆ¤æ–­æ˜¯å¦ä¸ºNaNï¼Œä»¥åŠä¸èƒ½è¶…è¿‡1e+21
       return num.toString()
     }
     if(len === undefined || len === 0) { // åˆ¤æ–­å‚æ•°æ˜¯å¦ä¸åˆæ³•
       return Math.round(num).toString()
     }
     const result = num.toString() // è½¬åŒ–æ•°å€¼ä¸ºå­—ç¬¦ä¸²
     const numArr = result.split('.') // å°†å­—ç¬¦ä¸²æ ¹æ®.å·è½¬æ¢ä¸ºæ•°ç»„
     const intNum = numArr[0] // è·å–æ•´æ•°éƒ¨åˆ†
     const deciNum = numArr[1] // è·å–å°æ•°éƒ¨åˆ†
     if(numArr.length < 2) {
       return `${intNum}.`.padEnd(len)
     }
     if(deciNum.length <= len) {
     	return `${intNum}.${deciNum}`.padEnd(len - deciNum.length)
     } else {
       const newDeciNum = deciNum.slice(0, len - 1)
       return `${intNum}.${newDeciNum}`
     }
   }
   ```

   é‡å†™çš„ toFixed ï¼Œå°±æ˜¯å°†æ•°å€¼è¿›è¡Œå­—ç¬¦ä¸²çš„ä¸€ç³»åˆ—æ“ä½œå¾—åˆ°éœ€è¦çš„ç»“æœã€‚

3. å°†æµ®ç‚¹æ•°è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å–æ•´å¤„ç†ã€‚

   ç›¸ä¿¡å¾ˆå¤šç«¥é‹éƒ½ä¼šä½¿ç”¨è¿‡ï¼Œå°†æµ®ç‚¹æ•°å–æ•´åï¼Œå†è¿›è¡Œè¿ç®—ï¼Œæœ€åå†é™¤ä»¥ç›¸åº”çš„å€æ•°å¾—åˆ°æœ€ç»ˆç»“æœã€‚å¯åˆ«è¯´ï¼Œè¿™ç§ç®—æ³•çš„æ•ˆæœä¹Ÿæ˜¯æ æ çš„ã€‚ğŸ¤”

   ```javascript
   console.log((0.1 * 10 + 0.2 * 10) / 10) // 0.3
   ```

   æ—¢ç„¶è¿™ç®—æ³•è¿™ä¹ˆå¥½ç”¨ï¼Œé‚£ä¹ˆä¸ºå•¥ä¸æ¨å¹¿å‘¢ï¼Ÿç»†ç©¶ä¸‹å»ï¼Œä¼šå‘ç°ä¾ç„¶å­˜åœ¨é—®é¢˜ã€‚

   ```javascript
   console.log((35.41 * 100 + 0.1 * 10) / 100) // 35.419999999999995
   ```

   å¯ä»¥çœ‹åˆ°ï¼Œé—®é¢˜ä¾ç„¶è¿˜æ˜¯ä¼šå­˜åœ¨ï¼Œé‚£ä¹ˆç©¶ç«Ÿå¦‚ä½•å¤„ç†æ˜¯å¥½ï¼Ÿç­”æ¡ˆå°±æ˜¯**å­—ç¬¦ä¸²å¤„ç†**ã€‚

   ç®€å•æ¥è¯´ï¼Œå°±æ˜¯**å°†æµ®ç‚¹æ•°å€¼ä½¿ç”¨å­—ç¬¦ä¸²å¤„ç†æ–¹å¼å°†å°æ•°ç‚¹å»æ‰ï¼Œå˜æˆä¸€ä¸ªæ•´æ•°å½¢å¼ï¼Œå†è¿›è¡Œè¿ç®—ï¼Œè¿ç®—å¾—åˆ°çš„ç»“æœå†é™¤ä»¥ç›¸åº”çš„å€æ•°å³å¯**ã€‚è¿™æ ·å°±å¯ä»¥æœ‰æ•ˆé¿å…ä»¥ä¸Šçš„å‘äº†ã€‚

   ```javascript
   var floatObj = (function() {
     var isIntegar = obj => Math.floor(obj) === obj // åˆ¤æ–­æ•°å€¼æ˜¯å¦ä¸ºæ•´æ•°
     var toIntegar = floatNum => { // å°†æ•°å€¼è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å¤„ç†
       var ret = { rate: 1, num: 0 }
       if(isIntegar(floatNum)) {
         ret.num = floatNum
         return ret
       }
       var floatStr = floatNum.toString()
       var deciNum = floatStr.split('.')[1]
       var integarNum = Number(floatStr.replace('.', ''))
   		ret.num = integarNum
       ret.rate = Math.pow(10, deciNum.length)
       return ret
     }
     var add = (a, b) => { // ä¸¤ä¸ªæµ®ç‚¹æ•°ç›¸åŠ 
       var floatA = toIntegar(a)
       var floatB = toIntegar(b)
       var { rate: rateA, num: numA } = floatA
       var { rate: rateB, num: numB } = floatB
       var resultRate = rateA > rateB ? rateA : rateB
       var resultNum
       if(rateA === rateB) {
         resultNum = numA + numB
       } else if (rateA > rateB) {
         resultNum = numA + numB * (rateA / rateB)
       } else {
         resultNum = numA * (rateB / rateA) + numB
       }
       return resultNum / resultRate
     }
     var subtract = (a, b) => { // ä¸¤ä¸ªæµ®ç‚¹æ•°ç›¸å‡
       var floatA = toIntegar(a)
       var floatB = toIntegar(b)
       var { rate: rateA, num: numA } = floatA
       var { rate: rateB, num: numB } = floatB
       var resultRate = rateA > rateB ? rateA : rateB
       var resultNum
       if(rateA === rateB) {
         resultNum = numA - numB
       } else if (rateA > rateB) {
         resultNum = numA - numB * (rateA / rateB)
       } else {
         resultNum = numA * (rateB / rateA) - numB
       }
       return resultNum / resultRate
     }
     var multiply = (a, b) => { // ä¸¤ä¸ªæµ®ç‚¹æ•°ç›¸ä¹˜
       var floatA = toIntegar(a)
       var floatB = toIntegar(b)
       var { rate: rateA, num: numA } = floatA
       var { rate: rateB, num: numB } = floatB
       var resultNum = (numA * numB) / (rateA * rateB)
       return resultNum
     }
     var divide = (a, b) => { // ä¸¤ä¸ªæµ®ç‚¹æ•°ç›¸é™¤
       var floatA = toIntegar(a)
       var floatB = toIntegar(b)
       var { rate: rateA, num: numA } = floatA
       var { rate: rateB, num: numB } = floatB
       var resultNum = (numA / numB) * (rateB / rateA)
       return resultNum
     }
     return { add, subtract, multiply, divide }
   })()
   ```

   

   



































