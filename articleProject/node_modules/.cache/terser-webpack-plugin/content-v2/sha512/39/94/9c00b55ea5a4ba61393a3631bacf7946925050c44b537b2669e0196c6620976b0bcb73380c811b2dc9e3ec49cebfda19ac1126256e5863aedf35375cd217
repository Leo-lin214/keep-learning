{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{216:function(t,s,a){\"use strict\";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[a(\"h2\",{attrs:{id:\"å…ˆèŠèŠé—­åŒ…\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#å…ˆèŠèŠé—­åŒ…\"}},[t._v(\"#\")]),t._v(\" å…ˆèŠèŠé—­åŒ…\")]),t._v(\" \"),a(\"p\",[t._v(\"è¯´èµ·é—­åŒ…ï¼Œå¯ä»¥è¯´æ˜¯å¤§å‰ç«¯é‡Œè€ç”Ÿå¸¸è°ˆçš„è¯é¢˜äº†ã€‚é‚£ä¸ºå•¥è¦åœ¨è¿™é‡Œè¯´èµ·å®ƒå‘¢ï¼Œè‡ªç„¶è‚¯å®šä¼šæœ‰åœ°æ–¹æ˜¯æœ‰ç”¨åˆ°å®ƒæ‰ä¼šæ‹¿å‡ºæ¥è¿›è¡Œè®¨è®ºå’Œå›é¡¾ï¼ŒåºŸè¯ä¸è¯´ï¼Œç›´å¥”ä¸»é¢˜ã€‚\")]),t._v(\" \"),a(\"p\",[t._v(\"é‚£ç©¶ç«Ÿä»€ä¹ˆæ˜¯é—­åŒ…ï¼Ÿ\")]),t._v(\" \"),a(\"p\",[t._v(\"æŒ‰ç…§å®˜æ–¹çš„å®šä¹‰ï¼Œ\"),a(\"strong\",[t._v(\"é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡çš„å‡½æ•°\")]),t._v(\"ï¼ˆå…¶å®æˆ‘ä¸€ç›´è§‰å¾—ç†è§£å®˜æ–¹çš„å­—é¢æ„æ€å¥½åˆ«æ‰­ï¼Œè€Œä¸”æœ€ä¸»è¦çš„ï¼Œå°±æ˜¯ä¸å¥½ç†è§£å•Šï¼ï¼ï¼ğŸ¤®ï¼Œçº¯å±ä¸ªäººæ„è§ï¼‰ã€‚æ¥ä¸ªç›´ç™½ç‚¹çš„ç†è§£ï¼Œå°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè€Œè¿™ä¹Ÿæ˜¯åˆ›å»ºé—­åŒ…æœ€å¸¸è§çš„æ–¹å¼ï¼Œçœ‹ğŸŒ°ï¼š\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-javascript extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sum\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" a \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"b\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" a \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"+=\")]),t._v(\" b\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" sumFun \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sum\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sumFun\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 1\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sumFun\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 2\")]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"ä»ä»£ç å±‚é¢ä¸Šå¾ˆå¥½ç†è§£ï¼Œåœ¨ sum å‡½æ•°å†…è¿”å›ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œæœ‰ä¸€ä¸ªç‚¹éœ€è¦é‡ç‚¹æ³¨æ„çš„æ˜¯ï¼ŒåŒ¿åå‡½æ•°æ˜¯å¯ä»¥ç›´æ¥è®¿é—®åˆ°å¤–å±‚ sum å‡½æ•°ä½œç”¨åŸŸä¸­çš„ a å˜é‡ï¼Œå¦‚æœä½ å¯¹è¿™ä¸ªæœ‰ç–‘æƒ‘ï¼Œé‚£å°±è¦é¢å¤–è¡¥è¡¥ js çš„ä½œç”¨åŸŸé“¾ï¼Œå½“ç„¶æœ‰ç©ºæˆ‘ä¹Ÿå¯ä»¥è¡¥ä¸Šæ¥ã€‚è¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šä¸€ä¸ªè¯¥é—­åŒ…ä¸­æ‰€æ¶‰åŠåˆ°çš„ä½œç”¨åŸŸé“¾ï¼Œå¦‚ä¸‹ï¼š\")]),t._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://github.com/Andraw-lin/about-Vue/blob/master/images/scope-chain.jpg\",alt:\"scope-chain\"}})]),t._v(\" \"),a(\"p\",[t._v(\"ç›¸ä¿¡åŒå­¦ä»¬å¯¹é—­åŒ…çš„ä¸€ä¸ªå¾ˆé‡è¦çš„ç‰¹ç‚¹å¾ˆç†Ÿæ‚‰ï¼Œå°±æ˜¯\"),a(\"strong\",[t._v(\"é—­åŒ…æ‰€æ¶‰åŠåˆ°çš„å˜é‡ä¼šä¸€ç›´å­˜ç•™åœ¨å†…å­˜ä¸­ï¼Œè€Œä¸è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶\")]),t._v(\"ã€‚è¿™ä¹Ÿå°±èƒ½è¯´æ˜ï¼Œä¸ºä»€ä¹ˆæ‰§è¡Œä¸¤æ¬¡ sumFun å‡½æ•°åï¼Œè¾“å‡ºçš„æ˜¯ 2 è€Œä¸æ˜¯ 1 ï¼Œå› ä¸ºå˜é‡ a ä¼šé©»ç•™åœ¨å†…å­˜ä¸­ï¼Œå› æ­¤ç¬¬äºŒæ¬¡æ‰§è¡Œåä»ç„¶å¯ä»¥è¯»åˆ°å‰ä¸€æ¬¡æ‰€å¤„ç†çš„å˜é‡ a çš„å€¼ã€‚\")]),t._v(\" \"),a(\"p\",[t._v(\"æ—¢ç„¶é—­åŒ…ä¸­çš„å˜é‡ä¼šé•¿æœŸé©»ç•™åœ¨å†…å­˜ï¼Œé‚£ä¼šä¸ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ï¼Ÿ\")]),t._v(\" \"),a(\"p\",[t._v(\"ç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œä¸å½“çš„é—­åŒ…å¤„ç†ä¼šè®©å˜é‡æ— æ³•é”€æ¯é‡Šæ”¾ï¼Œå¿…è¦æ—¶éœ€è¦è¿›è¡Œæ‰‹åŠ¨é‡Šæ”¾ã€‚ä½†æ˜¯é—­åŒ…ä¹Ÿå¯ä»¥åœ¨ä¸€äº›åœºæ™¯ä¸‹å‘æŒ¥ç€å¾ˆå¥½çš„ä½œç”¨ï¼Œä¾‹å¦‚ Memoization ç¼“å­˜æœºåˆ¶ã€‚å¯¹äºä¸€äº›åå¤è®¡ç®—ï¼Œé—­åŒ…å­˜å‚¨çš„å€¼å°±å¯ä»¥ç«‹é©¬è¿”å›ï¼Œä»è€Œé¿å…äº†åå¤çš„æ“ä½œã€‚\")]),t._v(\" \"),a(\"p\",[t._v(\"ä¹‹æ‰€ä»¥æåˆ°é—­åŒ…ä¸­è¿™ä¸ªç¼“å­˜åŠŸèƒ½ï¼Œæ˜¯å› ä¸ºä»Šå¤©è¦æ¢è®¨çš„ä¾èµ–æ”¶é›†åŠŸèƒ½æ°æ°å°±æ˜¯åˆ©ç”¨äº†è¿™ä¸€åŠŸèƒ½è¿›è¡Œäº†å®ç°ã€‚\")]),t._v(\" \"),a(\"p\",[t._v(\"##ç†è§£ä¾èµ–æ”¶é›†\")]),t._v(\" \"),a(\"p\",[t._v(\"æèµ·ä¾èµ–æ”¶é›†ï¼Œä¹Ÿè®¸ä¼šæœ‰åŒå­¦ä¼šæ„Ÿåˆ°ç–‘æƒ‘ï¼Œä¾èµ–æ”¶é›†ç©¶ç«Ÿæ˜¯ä¸€ä¸ªä»€ä¹ˆä¸œè¥¿ï¼Ÿåˆæœ‰ä»€ä¹ˆç”¨å¤„ï¼ŸğŸ¤”\")]),t._v(\" \"),a(\"p\",[t._v(\"ç®€å•ç‚¹æ¥è¯´ï¼Œä¾èµ–æ”¶é›†å°±æ˜¯ä¸ä¹‹ç›¸å…³è”çš„äº‹ç‰©éƒ½æ”¶é›†èµ·æ¥ã€‚åœ¨ç”Ÿæ´»é‡Œï¼Œå…¶å®æœ‰å¾ˆå¤šä¸è¯¥æ¦‚å¿µç›¸ä¼¼çš„åœºæ™¯ï¼Œæ¯”å¦‚ä¸€å°å³å°†å‘å¸ƒçš„æ–°æ‰‹æœºï¼Œç”¨æˆ·è‹¥æƒ³è´­ä¹°éœ€æå‰å¡«å†™æ‰‹æœºå·ç è¿›è¡Œé¢„çº¦ï¼Œå½“å¡«å†™å®Œåï¼Œæ‰‹æœºå·å°±ä¼šè¢«æ”¶é›†èµ·æ¥ï¼Œå› æ­¤è¯¥å°æ–°æ‰‹æœºå°±ä¼šæ”¶é›†å¾ˆå¤šä¸ä¹‹é¢„çº¦çš„æ‰‹æœºå·ï¼Œç­‰åˆ°å‘å¸ƒå½“å¤©ï¼Œå°±ä¼šé€ä¸ªé€šçŸ¥ç›¸å…³æ‰‹æœºå·çš„ç”¨æˆ·è¿›è¡Œè´­ä¹°ã€‚åœ¨è¿™é‡Œé¢ï¼Œé¢„çº¦çš„æ‰‹æœºå·å°±æ˜¯ä¸€ä¸ªä¾èµ–ï¼Œæœ€ç»ˆä¼šè¢«æ”¶é›†èµ·æ¥ã€‚\")]),t._v(\" \"),a(\"p\",[t._v(\"è¯´äº†å«ä¹‰ï¼Œé‚£å°±å¾—ææç”¨å¤„ã€‚åŒå­¦ä»¬åº”è¯¥ä¹Ÿæ¯”è¾ƒæ¸…æ¥šï¼Œæ—¢ç„¶ä¾èµ–æ”¶é›†èµ·æ¥ï¼Œè‚¯å®šæ˜¯ä¸ºäº†æ—¥åæœ‰éœ€è¦æ—¶å€™å°±æ‹¿å‡ºæ¥ä½¿ç”¨ã€‚å¥½æ¯”å¦‚åˆšåˆšæ‰€è¯´çš„ï¼Œå¦‚æœä¸æ”¶é›†é¢„çº¦çš„æ‰‹æœºå·çš„è¯ï¼Œä¸€æ—¦æ‰‹æœºå‘å¸ƒåï¼Œæ˜¯æ— æ³•è¿½è¸ªåˆ°ç›¸å…³é¢„çº¦æ‰‹æœºå·è¿›è¡Œé€šçŸ¥çš„ã€‚è€Œè¿™å°±æ˜¯æ¥ä¸‹å»çš„ç« èŠ‚è¦æåˆ°çš„ä¾èµ–æ›´æ–°ï¼Œæ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼Œ\"),a(\"strong\",[t._v(\"ä¾èµ–æ”¶é›†å°±æ˜¯ä¸ºäº†ä¾èµ–æ›´æ–°è€ŒæœåŠ¡çš„\")]),t._v(\"ã€‚\")]),t._v(\" \"),a(\"h2\",{attrs:{id:\"ä»æºç è§’åº¦è¿›è¡Œæ¢ç©¶\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#ä»æºç è§’åº¦è¿›è¡Œæ¢ç©¶\"}},[t._v(\"#\")]),t._v(\" ä»æºç è§’åº¦è¿›è¡Œæ¢ç©¶\")]),t._v(\" \"),a(\"p\",[t._v(\"åœ¨ä¸Šä¸€ç¯‡é€’å½’å¤„ç†å“åº”å¼ä¸­æœ‰æåŠè¿‡ï¼Œä¾èµ–æ”¶é›†æ˜¯åœ¨ getter ä¸­è¿›è¡Œï¼Œè€Œä¾èµ–æ›´æ–°åˆ™æ˜¯åœ¨ setter ä¸­è¿›è¡Œã€‚\")]),t._v(\" \"),a(\"p\",[t._v(\"æˆ‘ä»¬ç°åœ¨æ¥å›é¡¾ä¸€ä¸‹\"),a(\"code\",[t._v(\"defineReactive$$1\")]),t._v(\"å‡½æ•°ï¼Œçœ‹çœ‹ä¾èµ–æ”¶é›†æ˜¯å¦‚ä½•å®ç°çš„ã€‚\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-javascript extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"defineReactive$$1\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"\\n \"),a(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"obj\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n key\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n val\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n customSetter\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n shallow\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" dep \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Dep\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n   \\t\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n    Object\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"defineProperty\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"obj\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" key\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      enumerable\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"true\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      configurable\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"true\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n      \"),a(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[t._v(\"get\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"reactiveGetter\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n        \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"Dep\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"target\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¾èµ–ç›®æ ‡\")]),t._v(\"\\n          dep\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"depend\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ä¾èµ–æ”¶é›†\")]),t._v(\"\\n\\t\\t\\t\\t\\t\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n        \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"ç”±ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œ\"),a(\"code\",[t._v(\"defineReactive$$1\")]),t._v(\"å‡½æ•°å†…å®ç°äº†é—­åŒ…ï¼Œæ¯æ¬¡å±æ€§è¢«ä½¿ç”¨æ—¶ï¼Œéƒ½ä¼šè°ƒç”¨ getter å‡½æ•°ï¼Œè€Œ getter å‡½æ•°æ°æ°å°±æ˜¯åˆ©ç”¨äº†å¤–å±‚å‡½æ•°\"),a(\"code\",[t._v(\"defineReactive$$1\")]),t._v(\"ä¸­çš„ dep å˜é‡ï¼ˆä¹Ÿè®¸ä½ ä¼šé—®ï¼Œdep æ˜¯ç”¨æ¥å¹²å˜›çš„ï¼Ÿç¨ç­‰ä¸€ä¸‹å“ˆï¼Œæ¥ä¸‹å»ä¼šè¯¦ç»†æè¿°ï¼‰ï¼Œè€Œè¯¥ dep å˜é‡å°±æ˜¯ç”¨æ¥ç¼“å­˜æ”¶é›†è¯¥å±æ€§ç›¸å…³ä¾èµ–çš„ï¼ˆè¯´ç™½ç‚¹ï¼Œå°±æ˜¯å“ªé‡Œç”¨åˆ°è¯¥å±æ€§çš„åœ°æ–¹å°±æ”¶é›†èµ·æ¥ ğŸ˜„ ï¼‰ã€‚æ‰€ä»¥æ¯æ¬¡ä½¿ç”¨åˆ°è¯¥å±æ€§æ—¶ï¼Œéƒ½ä¼šå…ˆåˆ¤æ–­ä¸è¯¥å±æ€§ä¾èµ–çš„ç›®æ ‡æ˜¯å¦å­˜åœ¨ï¼Œä¸€æ—¦å­˜åœ¨å°±ç«‹é©¬æ”¶é›†èµ·æ¥ã€‚\")]),t._v(\" \"),a(\"p\",[t._v(\"æ—¢ç„¶ dep å˜é‡æ˜¯ä¸€ä¸ª Dep å¯¹è±¡çš„å®ä¾‹ï¼Œé‚£ä¹ˆå®ƒç©¶ç«Ÿæ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„ç»“æ„çš„ï¼Ÿæˆ‘ä»¬å†æ¥çœ‹çœ‹\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-javascript extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"/**\\n * A dep is an observable that can have multiple\\n * directives subscribing to it.\\n */\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[t._v(\"Dep\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"Dep\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"id \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" uid\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"++\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"subs \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Dep\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"prototype\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[t._v(\"addSub\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"addSub\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"sub\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"subs\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"push\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"sub\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Dep\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"prototype\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[t._v(\"depend\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"depend\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"Dep\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"target\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    Dep\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"target\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"addDep\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"å¥½æ˜æ˜¾ï¼ŒDep å¯¹è±¡ä¸­å­˜å‚¨æœ‰ä¸¤ä¸ªå±æ€§ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯ idï¼Œç”¨æ¥æ ‡è¯†ç”¨çš„ï¼Œè€Œå¦ä¸€ä¸ªå°±æ˜¯æ•°ç»„ subsï¼Œè¯¥å±æ€§å°±æ˜¯ç”¨æ¥æ”¶é›†ä¾èµ–ç”¨çš„ï¼Œå…¶ä¸­åœ¨ Dep å¯¹è±¡åœ¨åŸå‹ä¸Šå®šä¹‰ä¸¤ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ addSub ã€dependï¼Œéƒ½æ˜¯ç”¨æ¥æ·»åŠ ä¾èµ–ç”¨çš„ï¼ˆå½“ç„¶è¿˜å®šä¹‰æœ‰å…¶ä»–æ–¹æ³•ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡Œç ”ç©¶ä¸€ä¸‹ï¼‰ã€‚\")]),t._v(\" \"),a(\"p\",[t._v(\"ç°åœ¨æ¥æ€»ç»“ä¸€ä¸‹ï¼š\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"å½“å­˜åœ¨ Dep.target ä¾èµ–ç›®æ ‡æ—¶ï¼Œå°±ä¼šè°ƒç”¨ Dep.depend æ–¹æ³•æ¥è¿›è¡Œæ”¶é›†ï¼Œå…¶ä¸­ Dep.depend æ–¹æ³•å®è´¨å°±æ˜¯æ•°ç»„çš„ push æ¨è¿›ï¼›\")]),t._v(\" \"),a(\"li\",[t._v(\"ç”±äº\"),a(\"code\",[t._v(\"defineReactive$$1\")]),t._v(\"å‡½æ•°å®ç°çš„æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œå› æ­¤ dep å˜é‡ä¼šä¸€ç›´å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå½“æœ‰æ–°çš„åœ°æ–¹ç”¨åˆ°è¯¥å±æ€§æ—¶ï¼Œå°±ä¼šç»§ç»­ push è¿›å»ï¼Œè€Œæ¯æ¬¡çš„ push æ“ä½œéƒ½ä¼šä¿ç•™åœ¨ dep ä¸­ï¼Œç›´åˆ°è¯¥å±æ€§é”€æ¯ä¸ºæ­¢ï¼›\")])]),t._v(\" \"),a(\"h2\",{attrs:{id:\"ä¾èµ–æ”¶é›†çš„ç–‘æƒ‘\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#ä¾èµ–æ”¶é›†çš„ç–‘æƒ‘\"}},[t._v(\"#\")]),t._v(\" ä¾èµ–æ”¶é›†çš„ç–‘æƒ‘\")]),t._v(\" \"),a(\"p\",[t._v(\"é€šè¿‡ä¸Šè¿°çš„æè¿°ï¼Œæˆ‘ä»¬éƒ½å¤§æ¦‚æ¸…æ¥šäº†åªæœ‰å­˜åœ¨ Dep.target ä¾èµ–ç›®æ ‡æ—¶ï¼Œæ‰ä¼šå»è¿›è¡Œæ”¶é›†ã€‚æ—¢ç„¶ Dep.target æ˜¯ç”¨æ¥å­˜å‚¨ä¾èµ–ç›®æ ‡çš„ï¼Œé‚£ä¹ˆ Dep.target åˆæ˜¯ä»ä½•è€Œæ¥çš„å‘¢ï¼Ÿæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥æ¢ç©¶ä¸€ä¸‹ Vue æ˜¯å¦‚ä½•è¿›è¡Œå¤„ç†çš„ã€‚\")]),t._v(\" \"),a(\"p\",[t._v(\"å…¶å® Vue ä»ä¸€å¼€å§‹æŒ‚è½½å…ƒç´ æ—¶ï¼Œå°±å·²ç»å¼€å§‹èµ‹å€¼ Dep.target äº†ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ˜¯å¦‚ä½•å®ç°çš„ï¼š\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-javascript extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"initMixin\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"Vue\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Vue\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"prototype\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[t._v(\"_init\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"options\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" vm \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"vm\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"$options\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"el\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// åˆ¤æ–­æ˜¯å¦å­˜åœ¨æŒ‚è½½å…ƒç´ \")]),t._v(\"\\n      vm\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"$mount\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"vm\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"$options\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"el\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// è‹¥å­˜åœ¨å°±å¼€å§‹è¿›è¡ŒæŒ‚è½½å¤„ç†\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"initMixin\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"Vue\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Vue\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"prototype\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[t._v(\"$mount\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"\\n \"),a(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"el\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n hydrating\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"mountComponent\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" el\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" hydrating\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ç›´æ¥è°ƒç”¨æŒ‚è½½ç»„ä»¶æ–¹æ³•\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"mountComponent\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"\\n \"),a(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"vm\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n el\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n hydrating\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" updateComponent\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[t._v(\"updateComponent\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    vm\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"_update\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"vm\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"_render\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" hydrating\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æ›´æ–°ç»„ä»¶ï¼Œå¹¶è¿›è¡Œé‡æ–°æ¸²æŸ“ï¼ˆä¸ä¾èµ–æ”¶é›†ç›¸å…³çš„å…³é”®å¤„ç†ï¼‰\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// we set this to vm._watcher inside the watcher's constructor\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// since the watcher's initial patch may call $forceUpdate (e.g. inside child\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// component's mounted hook), which relies on vm._watcher being already defined\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"new\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Watcher\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"vm\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" updateComponent\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" noop\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// åˆ›å»ºä¸€ä¸ª Watcher å®ä¾‹ï¼ˆå³ä¾èµ–ï¼‰\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[t._v(\"before\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"before\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"vm\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"_isMounted \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"!\")]),t._v(\"vm\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"_isDestroyed\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"callHook\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"vm\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'beforeUpdate'\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"true\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"/* isRenderWatcher */\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"ä»ä»£ç ä¸Šå¯ä»¥çœ‹åˆ°ï¼Œå…ƒç´ æ˜¯åœ¨ä¸€å¼€å§‹æŒ‚è½½è¿‡ç¨‹ä¸­ï¼Œåˆ›å»ºä¸€ä¸ª Watcher å®ä¾‹ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç›¸å…³ä¾èµ–ã€‚éœ€æ³¨æ„çš„æ˜¯ï¼Œè¯¥ä¾èµ–æ˜¯ä»¥ template ä¸ºå•ä½çš„ï¼ˆå³å¤šä¸ªå±æ€§éƒ½ä¼šå¯èƒ½æ”¶é›†åŒä¸€ä¸ª Watcherï¼Œå½¢æˆå¤šå¯¹ä¸€çš„å…³ç³»ï¼‰ã€‚é‚£æ—¢ç„¶æŒ‚è½½ç»„ä»¶çš„è¿‡ç¨‹ä¸­ä¼šåˆ›å»ºç›¸åº”çš„ä¾èµ–ï¼Œé‚£ä¹ˆå®ƒæ˜¯å¦‚ä½•èµ‹äºˆåˆ° Dep å¯¹è±¡ä¸Šçš„ï¼Ÿæ¥ç€çœ‹ä¸‹å»ï¼š\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-javascript extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[t._v(\"Watcher\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"Watcher\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"vm\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  expOrFn\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  cb\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  options\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  isRenderWatcher\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// options\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"options\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n\\t\\t\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"lazy \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"!\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"!\")]),t._v(\"options\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"lazy\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// lazy ç”¨äºåˆ¤æ–­ç»„ä»¶æ˜¯å¦å»¶è¿ŸåŠ è½½\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n\\t\"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"value \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"lazy\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"?\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"undefined\")]),t._v(\"\\n  \\t\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"get\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// get æ–¹æ³•æ˜¯å»ºç«‹å’Œ Dep å¯¹è±¡çš„æ¡¥æ¢\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Watcher\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"prototype\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[t._v(\"get\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"get\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"pushTarget\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ç›´æ¥è®² Watcher èµ‹å€¼åˆ° Dep.target ä¸Š\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" value\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" vm \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"vm\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"try\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \\n    value \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"getter\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"call\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"vm\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" vm\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// èµ‹å€¼åï¼Œå¼€å§‹è°ƒç”¨ updateComponent æ–¹æ³•è¿›è¡Œæ¸²æŸ“å¹¶è¿›è¡Œä¾èµ–æ”¶é›†\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"catch\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"finally\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"popTarget\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æ¸²æŸ“ç»“æŸå¹¶æ”¶é›†ä¾èµ–åï¼Œå°±é‡ç½® Dep.target\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" targetStack \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ç”¨æ¥è®°å½•ä¿å­˜åˆ›å»ºå¥½çš„ Watcher å®ä¾‹çš„æ ˆ\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"pushTarget\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"target\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  targetStack\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"push\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"target\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  Dep\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"target \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" target\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// èµ‹å€¼åˆ°å½“å‰ Dep.target ä¸Š\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"popTarget\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  targetStack\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"pop\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ç§»é™¤å½“å‰çš„ Watcher\")]),t._v(\"\\n  Dep\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"target \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" targetStack\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"targetStack\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"length \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// Dep.target æ°¸è¿œæŒ‡å‘ targetStack çš„æœ€åä¸€é¡¹\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"è‡³æ­¤ï¼Œä½ åº”è¯¥ä¹Ÿèƒ½å¤§æ¦‚äº†è§£åˆ›å»ºä¾èµ– Watcher çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œåœ¨åˆ›å»º Watcher å®ä¾‹çš„åŒæ—¶å¹¶è®°å½•ä¸‹æ¥ï¼Œç„¶åè¿›è¡Œæ¸²æŸ“å’Œä¾èµ–æ”¶é›†ï¼Œåˆ°æœ€åæ¨å‡ºä¸æ­¤ç›¸å…³çš„ Watcherã€‚\")]),t._v(\" \"),a(\"p\",[t._v(\"éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå»ºç«‹å¥½ Watcher å’Œ Dep æ¡¥æ¢åï¼Œè¿˜éœ€è¦å°† Dep.target æ¨è¿›ç›¸å¯¹åº”å“åº”å¼å±æ€§çš„ subs æ•°ç»„ä¸­ï¼Œå…¶ä¸­ updateComponent èµ·åˆ°äº†é‡è¦ä½œç”¨ï¼Œå®ƒå°±æ˜¯ç›´æ¥è§¦å‘åˆ° getter å‡½æ•°è¿›è€Œå¯ä»¥æ¨è¿›åˆ° subs æ•°ç»„ä¸­ã€‚\")]),t._v(\" \"),a(\"p\",[t._v(\"ç°åœ¨å†æ¥æ€»ç»“ä¸€ä¸‹ï¼š\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"ç»„ä»¶åœ¨æŒ‚è½½è¿‡ç¨‹ä¸­ï¼Œä¼šåˆ›å»ºç›¸å¯¹åº”çš„ Watcher å®ä¾‹ï¼Œå¹¶å°† Watcher ä¿å­˜åœ¨ Dep.target ä¸­ï¼Œæœ€å¥½ä¿å­˜åˆ°å“åº”å¼å±æ€§çš„é—­åŒ…å½“ä¸­ï¼Œå®Œæˆä¾èµ–æ”¶é›†çš„è¿‡ç¨‹ï¼›\")]),t._v(\" \"),a(\"li\",[t._v(\"é€šè¿‡ç»„ä»¶çš„æ¸²æŸ“å’Œä¾èµ–æ”¶é›†ï¼Œå°† Dep.target ä¿å­˜åœ¨å“åº”å¼å±æ€§çš„ subs æ•°ç»„ä¸­ï¼Œå®Œæˆåä» targetStack è®°å½•ä¸­æ¨å‡ºä¸æ­¤ç›¸å…³çš„ Watcher ï¼›\")])])])}),[],!1,null,null,null);s.default=e.exports}}]);","extractedComments":[]}