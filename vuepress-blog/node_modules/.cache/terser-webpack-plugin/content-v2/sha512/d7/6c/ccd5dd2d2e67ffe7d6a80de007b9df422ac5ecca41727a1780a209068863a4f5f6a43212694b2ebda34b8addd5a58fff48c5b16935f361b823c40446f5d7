{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{230:function(t,s,n){\"use strict\";n.r(s);var a=n(0),e=Object(a.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[n(\"h2\",{attrs:{id:\"ä½•ä¸º-patch\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#ä½•ä¸º-patch\"}},[t._v(\"#\")]),t._v(\" ä½•ä¸º Patch?\")]),t._v(\" \"),n(\"p\",[t._v(\"ç›¸ä¿¡çœ‹è¿‡\"),n(\"a\",{attrs:{href:\"https://github.com/Andraw-lin/about-Vue/blob/master/docs/%E3%80%90%20Vue%20%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%20%E3%80%91%E6%B8%B2%E6%9F%93%20Render%20(AST%20-%3E%20VNode).md\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"ã€ Vue æºç åˆ†æ ã€‘æ¸²æŸ“ Render (AST -> VNode)\"),n(\"OutboundLink\")],1),t._v(\" çš„ç«¥é‹ä»¬éƒ½è¿˜æœ‰ç‚¹å°è±¡ï¼Œå°±æ˜¯æˆ‘åœ¨æœ€åæ‰§è¡Œæ¸²æŸ“æ–¹æ³•åï¼Œç•™ä¸‹ä¸€ä¸ªæ–¹æ³•æ²¡æœ‰è®²åˆ°ï¼Œå°±æ˜¯\"),n(\"code\",[t._v(\"_update\")]),t._v(\"æ–¹æ³•ã€‚å¿˜è®°çš„ç«¥é‹ä¹Ÿæ²¡å…³ç³»ï¼Œæˆ‘ç®€å•æ»´æˆªå–ä¸€ä¸‹ä»£ç è¿‡æ¥ï¼Œå¦‚ä¸‹ï¼š\")]),t._v(\" \"),n(\"div\",{staticClass:\"language-javascript extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[t._v(\"updateComponent\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æ¨¡æ¿ä¾èµ–Watcheræ›´æ–°å›è°ƒæ–¹æ³•\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" vnode \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" vm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"_render\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æœ€ä¸»è¦çš„ï¼ï¼ï¼ç›´æ¥è½¬åŒ–ASTä¸ºVNodeèŠ‚ç‚¹\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n  vm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"_update\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" hydrating\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å°†è½¬æ¢å¥½çš„VNodeæ”¾åˆ°æ›´æ–°å‡½æ•°ä¸­ä½¿ç”¨patchè¿›è¡Œæ¯”å¯¹\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"p\",[t._v(\"é€šè¿‡æ‰§è¡Œ\"),n(\"code\",[t._v(\"_c\")]),t._v(\"æ¸²æŸ“æ–¹æ³•å°†ç›¸åº”çš„\"),n(\"code\",[t._v(\"AST\")]),t._v(\"è½¬åŒ–ä¸º\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹åï¼Œå†å°†ç”Ÿæˆçš„\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"æ ‘ä½œä¸ºå‚æ•°ä¼ è¿›\"),n(\"code\",[t._v(\"_update\")]),t._v(\"æ–¹æ³•ä¸­è¿›è¡Œç›¸åº”çš„\"),n(\"code\",[t._v(\"patch\")]),t._v(\"ã€‚\")]),t._v(\" \"),n(\"p\",[t._v(\"å¥½äº†ï¼Œé—®é¢˜æ¥äº†ï¼Œé‚£ä¹ˆç©¶ç«Ÿä»€ä¹ˆæ˜¯\"),n(\"code\",[t._v(\"patch\")]),t._v(\"å‘¢ï¼Ÿ\")]),t._v(\" \"),n(\"p\",[t._v(\"æ‰€è°“\"),n(\"code\",[t._v(\"patch\")]),t._v(\"ï¼ŒæŒ‰å­—é¢å°±æ˜¯è¡¥ä¸ï¼Œè€Œåœ¨\"),n(\"code\",[t._v(\"Vue\")]),t._v(\"ä¸­åˆ™æ˜¯æ¯”è¾ƒçš„æ„æ€ã€‚æ€ä¹ˆç†è§£å‘¢ï¼Ÿ\")]),t._v(\" \"),n(\"p\",[n(\"strong\",[t._v(\"å½“å“åº”å¼æ•°æ®æ›´æ”¹æ—¶ï¼Œéƒ½ä¼šè§¦å‘æ¨¡æ¿çš„\"),n(\"code\",[t._v(\"updateComponent\")]),t._v(\"æ–¹æ³•ï¼Œç”Ÿæˆæ–°çš„\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"æ ‘ï¼Œç”±äºæ—§çš„\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"æ ‘ä¼šç›´æ¥æ˜ å°„åˆ°çœŸå®\"),n(\"code\",[t._v(\"DOM\")]),t._v(\"ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤é€šè¿‡å¯¹æ–°æ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"æ ‘è¿›è¡Œ\"),n(\"code\",[t._v(\"patch\")]),t._v(\"æ¯”è¾ƒåï¼Œå¾—å‡ºä¸¤ä¸ª\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"æ ‘æœ€å°çš„å·®å¼‚ï¼Œå†å°†è¿™äº›å·®å¼‚æ¸²æŸ“åˆ°è§†å›¾ä¸Š\")]),t._v(\"ã€‚\")]),t._v(\" \"),n(\"p\",[t._v(\"æ–‡å­—çœ‹çš„ä¸æ˜¯å¾ˆæ¸…æ¥šï¼ŸğŸ¤” ç”­æ€¥ï¼Œä¸‹é¢å°±åˆ—å‡ºå›¾æ¥å°±ä¼šå¥½ç†è§£äº†ã€‚\")]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:\"https://raw.githubusercontent.com/Andraw-lin/about-Vue/master/images/vnode-patch.jpg\",alt:\"vnode-patch\"}})]),t._v(\" \"),n(\"p\",[t._v(\"æœ‰ä¸Šå›¾åœ¨ï¼Œæ˜¯å¦ä¼šè±ç„¶å¼€æœ—ç‚¹å“ˆå“ˆã€‚ä½†æ˜¯ä»å›¾ä¸­ï¼Œæˆ‘ä»¬åˆå‘ç°äº†å¦å¤–ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œ\"),n(\"code\",[t._v(\"Diff\")]),t._v(\"å‡º\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"æ ‘é—´çš„å·®å¼‚ï¼Œé‚£ä¹ˆ\"),n(\"code\",[t._v(\"Diff\")]),t._v(\"åˆæ˜¯å•¥ï¼Ÿ\")]),t._v(\" \"),n(\"p\",[t._v(\"å…¶å®\"),n(\"code\",[t._v(\"Diff\")]),t._v(\"å°±æ˜¯ä¸€ç§å®ç°\"),n(\"code\",[t._v(\"patch\")]),t._v(\"çš„æ¯”è¾ƒç®—æ³•ï¼Œå¯ä»¥å¾ˆé«˜æ•ˆåœ°å¤„ç†ä¸¤ä¸ªæ–°æ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"æ ‘é—´çš„å·®å¼‚ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥ä»‹ç»ä¸€ä¸‹è¿™ä¸ªç®—æ³•ã€‚ğŸ¤”\")]),t._v(\" \"),n(\"h2\",{attrs:{id:\"diff-ç®—æ³•\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#diff-ç®—æ³•\"}},[t._v(\"#\")]),t._v(\" Diff ç®—æ³•\")]),t._v(\" \"),n(\"p\",[t._v(\"è¯ä¸å¤šè¯´ï¼Œç›´å¥”ä¸»é¢˜ã€‚\")]),t._v(\" \"),n(\"p\",[n(\"code\",[t._v(\"Diff\")]),t._v(\"ç®—æ³•çš„æ ¸å¿ƒå°±æ˜¯\"),n(\"strong\",[t._v(\"é’ˆå¯¹å…·æœ‰ç›¸åŒçˆ¶èŠ‚ç‚¹çš„åŒå±‚æ–°æ—§å­èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œè€Œä¸æ˜¯ä½¿ç”¨é€å±‚æœç´¢é€’å½’éå†çš„æ–¹å¼\")]),t._v(\"ã€‚\"),n(\"strong\",[t._v(\"æ—¶é—´å¤æ‚åº¦ä¸º\"),n(\"code\",[t._v(\"O(n)\")])]),t._v(\"ã€‚\")]),t._v(\" \"),n(\"p\",[t._v(\"å¦‚ä½•ç†è§£ï¼Ÿ\")]),t._v(\" \"),n(\"p\",[t._v(\"è¯´ç™½ç‚¹ï¼Œå°±æ˜¯\"),n(\"strong\",[t._v(\"å½“æ–°æ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"æ ‘åœ¨åŒä¸€å±‚å…·æœ‰ç›¸åŒçš„\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹æ—¶ï¼Œæ‰ä¼šç»§ç»­å¯¹å…¶å­èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒ\")]),t._v(\"ã€‚ä¸€æ—¦æ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"æ ‘åŒå±‚ä¸­çš„èŠ‚ç‚¹åœ¨æ–°\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"æ ‘ä¸­ä¸å­˜åœ¨æˆ–è€…æ˜¯å¤šä½™çš„ï¼Œéƒ½ä¼šåœ¨æ–°çš„çœŸå®\"),n(\"code\",[t._v(\"DOM\")]),t._v(\"ä¸­è¿›è¡Œæ·»åŠ æˆ–è€…åˆ é™¤ã€‚ä¸‹é¢å°±æ‹¿ä¸€å‰¯å›¾è¿›è¡Œè§£é‡Šã€‚\")]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:\"https://raw.githubusercontent.com/Andraw-lin/about-Vue/master/images/diff-process.jpg\",alt:\"diff-process\"}})]),t._v(\" \"),n(\"p\",[t._v(\"ä»ä¸Šé¢çš„ç¤ºä¾‹å›¾å¯ä»¥çœ‹åˆ°ï¼Œ\"),n(\"code\",[t._v(\"Diff\")]),t._v(\"ç®—æ³•ä¸­åªä¼šå¯¹åŒä¸€å±‚çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶ä¸”å¿…é¡»æ‹¥æœ‰ç›¸åŒèŠ‚ç‚¹å…ƒç´ ï¼Œæ‰ä¼šå¯¹å…¶å­èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒï¼Œå…¶ä»–å¤šä½™çš„åŒå±‚èŠ‚ç‚¹éƒ½ä¼šä¸€å¾‹åšåˆ é™¤æˆ–æ·»åŠ æ“ä½œã€‚\")]),t._v(\" \"),n(\"p\",[t._v(\"æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±ä»æºç è§’åº¦æ¥çœ‹çœ‹è¿™è¿‡ç¨‹åˆ°åº•æ˜¯å¦‚ä½•å‘ç”Ÿçš„ã€‚ğŸ¤”\")]),t._v(\" \"),n(\"h2\",{attrs:{id:\"ä»æºç è§’åº¦è¿›è¡Œæ¢ç©¶\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#ä»æºç è§’åº¦è¿›è¡Œæ¢ç©¶\"}},[t._v(\"#\")]),t._v(\" ä»æºç è§’åº¦è¿›è¡Œæ¢ç©¶\")]),t._v(\" \"),n(\"p\",[t._v(\"æˆ‘ä»¬ä¾ç„¶æ˜¯ä»\"),n(\"code\",[t._v(\"_update\")]),t._v(\"æ–¹æ³•å…¥æ‰‹ï¼Œçœ‹çœ‹åˆ°åº•æ˜¯å¦‚ä½•æ“ä½œçš„ã€‚\")]),t._v(\" \"),n(\"div\",{staticClass:\"language-javascript extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Vue\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"prototype\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[t._v(\"_update\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" hydrating\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" vm \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"this\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ç¼“å­˜vueå®ä¾‹\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" prevEl \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" vm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"$el\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// è·å–å®ä¾‹ä¸­çœŸå®DOMå…ƒç´ \")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" prevVnode \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" vm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"_vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// è·å–æ—§VNodeæ ‘\")]),t._v(\"\\n  vm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"_vnode \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å°†æ–°VNodeæ ‘ä¿å­˜åˆ°å®ä¾‹çš„_vnodeä¸Šï¼Œä¾¿äºä¸‹æ¬¡æ›´æ–°è·å–æ—§VNodeæ ‘\")]),t._v(\"\\n  \\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"!\")]),t._v(\"prevVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// åˆ¤æ–­æ˜¯å¦æœ‰æ—§VNodeæ ‘ï¼Œå¹¶è¿›è¡Œç›¸åº”çš„å¤„ç†\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// initial render\")]),t._v(\"\\n    vm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"$el \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" vm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"__patch__\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"vm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"$el\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" hydrating\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"false\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"/* removeOnly */\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æœ€å¼€å§‹çš„ä¸€æ¬¡ï¼Œå³ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶æ˜¯æ²¡æœ‰æ—§VNodeæ ‘ï¼Œç›´æ¥æ‰§è¡Œ__patch__\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// updates\")]),t._v(\"\\n    vm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"$el \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" vm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"__patch__\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"prevVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æ–°VNodeæ ‘ä¸æ—§VNodeæ ‘è¿›è¡Œ__patch__\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"p\",[t._v(\"æ¯ä¸€æ¬¡æ›´æ–°æ¨¡æ¿æ—¶ï¼Œéƒ½ä¼šå…ˆå°†æ¸²æŸ“å¥½çš„æ–°\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"æ ‘ä¿å­˜åˆ°å®ä¾‹çš„\"),n(\"code\",[t._v(\"_vnode\")]),t._v(\"å±æ€§ä¸Šï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†ä¸‹ä¸€æ¬¡æ›´æ–°æ—¶ï¼Œèƒ½è·å–åˆ°æ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"æ ‘è¿›è¡Œæ¯”è¾ƒã€‚\")]),t._v(\" \"),n(\"p\",[t._v(\"é’ˆå¯¹æ˜¯å¦æ‹¥æœ‰æ—§çš„\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"æ ‘ï¼Œä½¿ç”¨\"),n(\"code\",[t._v(\"__patch__\")]),t._v(\"æ–¹æ³•æ‰§è¡Œç›¸åº”é€»è¾‘ï¼Œä¹Ÿå³æ‰§è¡Œäº†\"),n(\"code\",[t._v(\"patch\")]),t._v(\"è¿‡ç¨‹ã€‚\")]),t._v(\" \"),n(\"div\",{staticClass:\"language-javascript extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" inBrowser \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"typeof\")]),t._v(\" window \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"!==\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'undefined'\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æµè§ˆå™¨ç¯å¢ƒ\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Vue\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"prototype\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"__patch__ \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" inBrowser \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"?\")]),t._v(\" patch \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" noop\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// åªæœ‰åœ¨æµè§ˆå™¨ç¯å¢ƒæ‰èƒ½è¿›è¡Œpatch\")]),t._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" patch \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createPatchFunction\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" nodeOps\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" nodeOps\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" modules\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" modules \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])]),n(\"p\",[t._v(\"å¯ä»¥çœ‹åˆ°ï¼Œ\"),n(\"strong\",[t._v(\"åªæœ‰åœ¨æµè§ˆå™¨çš„ç¯å¢ƒä¸‹æ‰èƒ½è¿›è¡Œ\"),n(\"code\",[t._v(\"patch\")]),t._v(\"è¿‡ç¨‹\")]),t._v(\"ï¼Œè€Œå®ç°\"),n(\"code\",[t._v(\"patch\")]),t._v(\"çš„ï¼Œå°±æ˜¯\"),n(\"code\",[t._v(\"createPatchFunction\")]),t._v(\"æ–¹æ³•ï¼Œæˆ‘ä»¬æ¥ç€çœ‹ä¸‹å»ã€‚\")]),t._v(\" \"),n(\"div\",{staticClass:\"language-javascript extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createPatchFunction\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"backend\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// çœç•¥äº†å¾ˆå¤šç§æœ‰å·¥å…·æ–¹æ³•ï¼Œä¸‹é¢ä¼šæ‹¿å‡ºä¸€äº›è¿›è¡Œè¯´æ˜\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"patch\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"oldVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" hydrating\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" removeOnly\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isUndef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å½“æ—§VNodeæ ‘ä¸å­˜åœ¨æ—¶ï¼Œåˆ™ç›´æ¥åˆ›å»ºä¸€ä¸ªæ ¹å…ƒç´ \")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// empty mount (likely as component), create new root element\")]),t._v(\"\\n      isInitialPatch \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"true\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createElm\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" insertedVnodeQueue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ç›´æ¥æ ¹æ®æ–°VNodeæ ‘å¹¶ç”ŸæˆçœŸå®DOM\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å½“å­˜åœ¨æ—§VNodeæ ‘æ—¶ï¼Œåˆ™è¿›è¡Œç›¸åº”çš„æ¯”è¾ƒ\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sameVnode\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å½“æ–°æ—§èŠ‚ç‚¹é—´æ˜¯å¦ç›¸åŒæ—¶\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// patch existing root node\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"patchVnode\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" insertedVnodeQueue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"null\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"null\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" removeOnly\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å½“æ–°æ—§èŠ‚ç‚¹ç›¸åŒæ—¶åˆ™è¿›è¡Œpatchæ¯”è¾ƒ\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å½“æ–°æ—§èŠ‚ç‚¹é—´ä¸ç›¸åŒæ—¶\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" oldElm \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" oldVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"elm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// è·å–æ—§èŠ‚ç‚¹å…ƒç´ \")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" parentElm \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" nodeOps\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"parentNode\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldElm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// è·å–æ—§èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹\")]),t._v(\"\\n        \\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// create new node\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createElm\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ç”±äºæ–°æ—§èŠ‚ç‚¹æ˜¯ä¸åŒçš„ï¼Œå› æ­¤ä¼šæ ¹æ®æ–°èŠ‚ç‚¹åˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹\")]),t._v(\"\\n          vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n          insertedVnodeQueue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n          \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// extremely rare edge case: do not insert if old element is in a\")]),t._v(\"\\n          \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// leaving transition. Only happens when combining transition +\")]),t._v(\"\\n          \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// keep-alive + HOCs. (#4590)\")]),t._v(\"\\n          oldElm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"_leaveCb \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"?\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"null\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" parentElm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n          nodeOps\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"nextSibling\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldElm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n        \\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// destroy old node\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isDef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"parentElm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å½“åˆ›å»ºå¥½æ–°èŠ‚ç‚¹åï¼Œä¹Ÿä¼šæŠŠæ—§èŠ‚ç‚¹è¿›è¡Œåˆ é™¤\")]),t._v(\"\\n          \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"removeVnodes\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"parentElm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"oldVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isDef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"tag\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// åˆ é™¤å“åº”èŠ‚ç‚¹åï¼Œä¹Ÿä¼šè°ƒç”¨ç›¸åº”çš„å›è°ƒ\")]),t._v(\"\\n          \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"invokeDestroyHook\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"p\",[t._v(\"å¥½å•¦ï¼Œå¯¹äº\"),n(\"code\",[t._v(\"patch\")]),t._v(\"æ¯”è¾ƒè¿‡ç¨‹ï¼Œä½ ä¹Ÿåº”è¯¥æœ‰äº†ä¸€ä¸ªå¤§æ¦‚äº†è§£ã€‚ç°åœ¨å°±æ¥ç®€å•æ€»ç»“ä¸€ä¸‹ä¸Šè¿°ä»£ç ã€‚\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"å½“æ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"æ ‘ä¸å­˜åœ¨æ—¶ï¼Œç›´æ¥æ ¹æ®æ–°\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"æ ‘åˆ›å»ºç›¸åº”çš„çœŸå®\"),n(\"code\",[t._v(\"DOM\")]),t._v(\"ã€‚\")]),t._v(\" \"),n(\"li\",[t._v(\"å½“æ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"æ ‘å­˜åœ¨æ—¶ï¼Œåˆ™ä¼šè°ƒç”¨\"),n(\"code\",[t._v(\"sameVnode\")]),t._v(\"æ–¹æ³•æ¯”è¾ƒå½“å‰æ–°æ—§èŠ‚ç‚¹æ˜¯å¦ç›¸åŒã€‚\\n\"),n(\"ul\",[n(\"li\",[t._v(\"å½“æ–°æ—§èŠ‚ç‚¹æ˜¯ç›¸åŒæ—¶ï¼Œä¼šè°ƒç”¨\"),n(\"code\",[t._v(\"patchVnode\")]),t._v(\"æ–¹æ³•æ¯”è¾ƒæ–°æ—§èŠ‚ç‚¹ï¼ˆè¿‡ç¨‹å°±æ˜¯ç»§ç»­æ¯”è¾ƒå…¶å­èŠ‚ç‚¹ï¼Œé€’å½’ä¸‹å»ï½ï¼‰ã€‚\")]),t._v(\" \"),n(\"li\",[t._v(\"å½“æ–°æ—§èŠ‚ç‚¹æ˜¯ä¸åŒæ—¶ï¼Œåˆ™ä¼šå…ˆæŒ‰ç…§æ–°\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹åˆ›å»ºæ–°çš„çœŸå®\"),n(\"code\",[t._v(\"DOM\")]),t._v(\"èŠ‚ç‚¹ï¼Œå†æ ¹æ®æ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹å°†ç›¸åº”çš„çœŸå®\"),n(\"code\",[t._v(\"DOM\")]),t._v(\"èŠ‚ç‚¹è¿›è¡Œåˆ é™¤ã€‚\")])])])]),t._v(\" \"),n(\"p\",[t._v(\"æ˜¯ä¸æ˜¯å¾ˆç®€å• ğŸ¤”...é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸æ˜¯è¯´\"),n(\"code\",[t._v(\"patch\")]),t._v(\"è¿‡ç¨‹æ˜¯ä½¿ç”¨\"),n(\"code\",[t._v(\"Diff\")]),t._v(\"ç®—æ³•è¿›è¡Œæ¯”è¾ƒçš„å—ï¼Ÿæ€ä¹ˆè¿˜çœ‹ä¸åˆ°ï¼Œç”­æ€¥ï¼Œä¸‹é¢æˆ‘ä¼šè®²åˆ°å“ˆã€‚\")]),t._v(\" \"),n(\"p\",[t._v(\"åœ¨ä¸Šé¢çš„æ€»ç»“ä¸­ï¼Œæˆ‘ä»¬æ˜¯å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯\"),n(\"code\",[t._v(\"sameVnode\")]),t._v(\"æ–¹æ³•å’Œ\"),n(\"code\",[t._v(\"patchVnode\")]),t._v(\"æ–¹æ³•ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥æ¢è®¨ä¸€ä¸‹è¿™ä¸¤ä¸ªæ–¹æ³•ã€‚\")]),t._v(\" \"),n(\"div\",{staticClass:\"language-javascript extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sameVnode\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"a\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" b\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹é—´æ˜¯å¦ç›¸åŒ\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"\\n    a\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"key \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" b\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"key \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ä¸¤ä¸ªèŠ‚ç‚¹é—´ç›¸åŒï¼Œé¦–å…ˆæ˜¯å”¯ä¸€æ ‡è¯†keyå¿…é¡»ç›¸åŒ\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"\\n        a\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"tag \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" b\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"tag \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\"\\n        a\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"isComment \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" b\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"isComment \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isDef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"a\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"data\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isDef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"b\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"data\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sameInputType\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"a\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" b\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æ¥ç€å°±æ˜¯èŠ‚ç‚¹æ ‡ç­¾åã€æ˜¯å¦ä¸ºæ³¨é‡Šã€æ•°æ®æ˜¯å¦ä¸ºç©ºã€inputç±»å‹éƒ½å¿…é¡»ç›¸åŒ\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"||\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isTrue\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"a\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"isAsyncPlaceholder\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\"\\n        a\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"asyncFactory \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" b\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"asyncFactory \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isUndef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"b\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"asyncFactory\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"error\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sameInputType\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"a\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" b\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æ¯”è¾ƒä¸¤ä¸ªèŠ‚ç‚¹çš„inputç±»å‹æ˜¯å¦ç›¸åŒ\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"a\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"tag \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"!==\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'input'\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"true\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" i\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" typeA \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isDef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"i \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" a\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"data\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isDef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"i \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" i\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"attrs\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" i\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"type\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" typeB \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isDef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"i \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" b\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"data\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isDef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"i \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" i\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"attrs\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" i\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"type\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" typeA \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" typeB \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"||\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isTextInputType\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"typeA\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isTextInputType\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"typeB\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"p\",[t._v(\"æ¯”è¾ƒä¸¤ä¸ªæ–°æ—§èŠ‚ç‚¹é—´æ˜¯å¾ˆç®€å•çš„ï¼Œä¸»è¦æ˜¯æŒ‰ç…§ä¸‹é¢å‡ ä¸ªå±æ€§è¿›è¡Œåˆ¤æ–­ã€‚\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹å”¯ä¸€æ ‡è¯†\"),n(\"code\",[t._v(\"key\")]),t._v(\"ã€‚\")]),t._v(\" \"),n(\"li\",[t._v(\"æ˜¯å¦åŒä¸ºæ³¨é‡Š\"),n(\"code\",[t._v(\"isComment\")]),t._v(\"ã€‚\")]),t._v(\" \"),n(\"li\",[t._v(\"æ•°æ®å±æ€§æ˜¯å¦ä¸ºç©º\"),n(\"code\",[t._v(\"isDef\")]),t._v(\"ã€‚\")]),t._v(\" \"),n(\"li\",[t._v(\"æ˜¯å¦ä¸ºç›¸åŒçš„\"),n(\"code\",[t._v(\"input\")]),t._v(\"ç±»å‹\"),n(\"code\",[t._v(\"sameInputType\")]),t._v(\"ã€‚\")])]),t._v(\" \"),n(\"p\",[t._v(\"æ­¤æ—¶ï¼Œä¸ç¦åˆæœ‰é—®é¢˜äº†ï¼Œåˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹ç›¸åŒï¼Œåªæ˜¯ä»…ä»…åˆ¤æ–­å…¶æ•°æ®å±æ€§æ˜¯å¦ä¸ºç©ºå°±å¯ä»¥äº†å—ï¼Ÿï¼Ÿ\")]),t._v(\" \"),n(\"p\",[t._v(\"å…¶å®ï¼Œè¿™æ ·åšä¸æ˜¯æ²¡æœ‰ç›®çš„çš„ï¼Œ\"),n(\"strong\",[t._v(\"é¦–å…ˆä¸¤ä¸ªç›¸åŒçš„èŠ‚ç‚¹ï¼Œè‹¥ä»…ä»…åªæ˜¯\"),n(\"code\",[t._v(\"data\")]),t._v(\"å€¼ä¸ä¸€æ ·æ—¶ï¼Œè¿™æ ·å°±æ²¡å¿…è¦æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œå¹¶æŠŠæ–°çš„\"),n(\"code\",[t._v(\"data\")]),t._v(\"èµ‹å€¼åˆ°èŠ‚ç‚¹ã€‚è€Œæ˜¯åœ¨åŸæœ‰èŠ‚ç‚¹ä¸Šï¼Œä»…ä»…å°†å…¶\"),n(\"code\",[t._v(\"data\")]),t._v(\"è¿›è¡Œæ›´æ”¹ï¼Œè¿™æ ·ä¸€æ¥å°±å¯ä»¥å¯¹æ€§èƒ½å¾—åˆ°æœ‰æ•ˆçš„æå‡\")]),t._v(\"ã€‚\")]),t._v(\" \"),n(\"p\",[t._v(\"å¥½å•¦ï¼Œæ¥ç€å°±åˆ°æˆ‘ä»¬çš„ä¸»è§’\"),n(\"code\",[t._v(\"patchVnode\")]),t._v(\"æ–¹æ³•äº†ï¼Œè¿™ä¸ªæ‰æ˜¯\"),n(\"code\",[t._v(\"Diff\")]),t._v(\"ç›¸å…³æ–¹æ³•ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æºç æ˜¯å¦‚ä½•å®ç°çš„ã€‚ğŸ¤”\")]),t._v(\" \"),n(\"div\",{staticClass:\"language-javascript extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"patchVnode\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"\\n \"),n(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"oldVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n insertedVnodeQueue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n ownerArray\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n index\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n removeOnly\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldVnode \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"===\")]),t._v(\" vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å½“å‘ç°ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å®Œå…¨ä¸€æ¨¡ä¸€æ ·æ—¶ï¼Œåˆ™ç›´æ¥è¿”å›\")]),t._v(\"\\n     \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" elm \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"elm \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" oldVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"elm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\\t \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" i\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" data \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"data\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isDef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isDef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"i \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" data\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"hook\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isDef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"i \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" i\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"prepatch\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n     \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"i\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æ ¹æ®æ–°VNodeæ›´æ–°æ—§VNodeçš„é€‰é¡¹é…ç½®ã€æ•°æ®å±æ€§ã€propsDataç­‰\")]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n   \\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" oldCh \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" oldVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"children\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// è·å–æ—§èŠ‚ç‚¹çš„å­èŠ‚ç‚¹é›†åˆ\")]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" ch \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"children\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// è·å–æ–°èŠ‚ç‚¹çš„å­èŠ‚ç‚¹é›†åˆ\")]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isUndef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"text\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å½“æ–°VNodeèŠ‚ç‚¹ä¸æ˜¯æ–‡æœ¬èŠ‚ç‚¹æ—¶\")]),t._v(\"\\n     \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isDef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isDef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"ch\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å½“æ—§VNodeå­èŠ‚ç‚¹å’Œæ–°VNodeå­èŠ‚ç‚¹éƒ½ä¸ä¸ºç©ºæ—¶\")]),t._v(\"\\n       \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldCh \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"!==\")]),t._v(\" ch\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"updateChildren\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"elm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" ch\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" insertedVnodeQueue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" removeOnly\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å½“æ—§VNodeèŠ‚ç‚¹å­èŠ‚ç‚¹å’Œæ–°VNodeèŠ‚ç‚¹å­èŠ‚ç‚¹ä¸ç­‰æ—¶ï¼Œå†é€’å½’æ‰§è¡ŒupdateChildrenæ¯”è¾ƒå­èŠ‚ç‚¹\")]),t._v(\"\\n     \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isDef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"ch\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å½“åªæœ‰æ–°VNodeå­èŠ‚ç‚¹å­˜åœ¨è€Œæ—§VNodeå­èŠ‚ç‚¹ä¸å­˜åœ¨æ—¶\")]),t._v(\"\\n       \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n       \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isDef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"text\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" nodeOps\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"setTextContent\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"elm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"''\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å½“æ—§VNodeèŠ‚ç‚¹æ˜¯æ–‡æœ¬èŠ‚ç‚¹æ—¶ï¼Œå…ˆç½®ç©ºæ–‡æœ¬\")]),t._v(\"\\n       \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"addVnodes\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"elm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"null\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" ch\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" ch\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"length \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" insertedVnodeQueue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æ ¹æ®ä½ç½®å¯¹çœŸå®DOMæ·»åŠ æ–°çš„èŠ‚ç‚¹\")]),t._v(\"\\n     \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isDef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å½“åªæœ‰æ—§VNodeå­èŠ‚ç‚¹å­˜åœ¨è€Œæ–°VNodeå­èŠ‚ç‚¹ä¸å­˜åœ¨æ—¶\")]),t._v(\"\\n       \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"removeVnodes\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"elm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"length \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ç›´æ¥ç§»é™¤æ‰€æœ‰å¤šä½™èŠ‚ç‚¹\")]),t._v(\"\\n     \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isDef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"text\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å½“åªæœ‰æ—§VNodeå­èŠ‚ç‚¹å­˜åœ¨å¹¶ä¸”æ˜¯æ–‡æœ¬èŠ‚ç‚¹æ—¶\")]),t._v(\"\\n       nodeOps\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"setTextContent\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"elm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"''\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ç›´æ¥ç½®ç©ºæ–‡æœ¬å¤„ç†\")]),t._v(\"\\n     \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"text \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"!==\")]),t._v(\" vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"text\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å½“æ—§VNodeæ–‡æœ¬èŠ‚ç‚¹ä¸ç­‰äºæ–°VNodeæ–‡æœ¬èŠ‚ç‚¹æ—¶\")]),t._v(\"\\n     nodeOps\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"setTextContent\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"elm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" vnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"text\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ç›´æ¥å°†æ—§VNodeèŠ‚ç‚¹è®¾ç½®ä¸ºæ–°VNodeèŠ‚ç‚¹æ–‡æœ¬å†…å®¹\")]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n   \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"p\",[n(\"code\",[t._v(\"patchVnode\")]),t._v(\"æ–¹æ³•åšçš„äº‹æƒ…ä¸å¤šï¼Œæœ€ä¸»è¦å°±æ˜¯æŒ‰ç…§ä¸€ä¸‹åœºæ™¯åšäº†å¤„ç†ã€‚\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"å½“æ–°\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹ä¸æ˜¯æ–‡æœ¬èŠ‚ç‚¹æ—¶ã€‚\\n\"),n(\"ul\",[n(\"li\",[t._v(\"å½“æ–°\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹å’Œæ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹éƒ½å­˜åœ¨æ—¶ï¼Œè‹¥ä¸¤ä¸ªèŠ‚ç‚¹ä¸ç­‰ï¼Œç›´æ¥æ‰§è¡Œ\"),n(\"code\",[t._v(\"updateChildren\")]),t._v(\"é€’å½’æ‰§è¡Œå…¶å­èŠ‚ç‚¹è¿›è¡Œæ¯”è¾ƒã€‚\")]),t._v(\" \"),n(\"li\",[t._v(\"å½“åªæœ‰æ–°\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹å­˜åœ¨æ—¶ï¼Œè‹¥æ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹æ˜¯æ–‡æœ¬èŠ‚ç‚¹ï¼Œå…ˆç½®ç©ºæ–‡æœ¬å†…å®¹ï¼Œå†ç›´æ¥åœ¨çœŸå®\"),n(\"code\",[t._v(\"DOM\")]),t._v(\"ä¸­ç›¸åº”ä½ç½®æ–°å¢æ–°\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹ã€‚\")]),t._v(\" \"),n(\"li\",[t._v(\"å½“åªæœ‰æ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹å­˜åœ¨æ—¶ï¼Œç›´æ¥ç§»é™¤çœŸå®\"),n(\"code\",[t._v(\"DOM\")]),t._v(\"ä¸­ç›¸åº”ä½ç½®çš„å¤šä½™æ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹ã€‚\")]),t._v(\" \"),n(\"li\",[t._v(\"å½“åªæœ‰æ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹å­˜åœ¨å¹¶ä¸”å®ƒæ˜¯æ–‡æœ¬èŠ‚ç‚¹æ—¶ï¼Œç›´æ¥ç½®ç©ºæ–‡æœ¬å†…å®¹å³å¯ã€‚\")])])]),t._v(\" \"),n(\"li\",[t._v(\"å½“æ–°\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹æ˜¯æ–‡æœ¬èŠ‚ç‚¹æ—¶ã€‚è‹¥ä¸¤ä¸ªæ–‡æœ¬èŠ‚ç‚¹å†…å®¹ä¸ä¸€è‡´ï¼Œç›´æ¥åœ¨çœŸå®\"),n(\"code\",[t._v(\"DOM\")]),t._v(\"ä¸­å¯¹åº”æ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹ä½ç½®æ–‡æœ¬å†…å®¹è®¾ç½®ä¸ºæ–°\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹æ–‡æœ¬å†…å®¹å³å¯ã€‚\")])]),t._v(\" \"),n(\"p\",[t._v(\"æ¥ä¸‹æ¥æ‰æ˜¯æœ€é‡ç‚¹å‘€ã€‚ã€‚ğŸ˜… åœ¨ä¸Šé¢ä¸­ç•™ä¸‹äº†\"),n(\"code\",[t._v(\"updateChildren\")]),t._v(\"æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•åˆæ˜¯å¹²å•¥ï¼Ÿ\")]),t._v(\" \"),n(\"p\",[t._v(\"ä¸ç’ä½ è¯´ï¼Œ\"),n(\"strong\",[n(\"code\",[t._v(\"updateChildren\")]),t._v(\"æ–¹æ³•åœ¨æ ¹æ®åœºæ™¯\"),n(\"code\",[t._v(\"Diff\")]),t._v(\"åï¼Œå°†æ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"æ ‘ä½œå‡ºç›¸åº”çš„æ”¹åŠ¨\")]),t._v(\"ã€‚åœ¨æ²¡æœ‰çœ‹æºç ä¹‹å‰ï¼Œæˆ‘ä¼šå…ˆé˜è¿°ä¸€ä¸‹ã€‚\")]),t._v(\" \"),n(\"p\",[n(\"strong\",[n(\"code\",[t._v(\"Diff\")]),t._v(\"ç®—æ³•è¿‡ç¨‹ä¸­ï¼Œåœ¨å°†æ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"æ ‘æ”¹åŠ¨æ—¶ï¼Œä¼˜å…ˆè€ƒè™‘ç›¸åŒä½ç½®çš„ç›¸åŒèŠ‚ç‚¹ï¼Œå†è€ƒè™‘éœ€è¦ç§»åŠ¨çš„ç›¸åŒèŠ‚ç‚¹ï¼Œæœ€åæ‰è€ƒè™‘åˆ›å»ºæˆ–åˆ é™¤èŠ‚ç‚¹\")]),t._v(\"ã€‚\")]),t._v(\" \"),n(\"p\",[t._v(\"æœ‰äº†ä¸Šé¢çš„ç®€å•ç†è§£ï¼Œæˆ‘ä»¬å°±æ¥ç»§ç»­æ¢ç©¶å•¦ ğŸ˜„ã€‚\")]),t._v(\" \"),n(\"div\",{staticClass:\"language-javascript extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"updateChildren\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"parentElm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" insertedVnodeQueue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" removeOnly\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" oldStartIdx \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æ—§èŠ‚ç‚¹å¼€å§‹ä½ç½®\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" newStartIdx \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æ–°èŠ‚ç‚¹å¼€å§‹ä½ç½®\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" oldEndIdx \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"length \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æ—§èŠ‚ç‚¹ç»“æŸä½ç½®\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" oldStartVnode \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æ—§èŠ‚ç‚¹ç¬¬ä¸€ä¸ªå…ƒç´ \")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" oldEndVnode \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"oldEndIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æ—§èŠ‚ç‚¹æœ€åä¸€ä¸ªå…ƒç´ \")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" newEndIdx \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" newCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"length \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æ–°èŠ‚ç‚¹ç»“æŸä½ç½®\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" newStartVnode \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" newCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æ–°èŠ‚ç‚¹ç¬¬ä¸€ä¸ªå…ƒç´ \")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" newEndVnode \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" newCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"newEndIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æ–°èŠ‚ç‚¹æœ€åä¸€ä¸ªå…ƒç´ \")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" oldKeyToIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" idxInOld\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" vnodeToMove\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" refElm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ...\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"while\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldStartIdx \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<=\")]),t._v(\" oldEndIdx \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" newStartIdx \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<=\")]),t._v(\" newEndIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// åŒæ—¶ä»æ–°æ—§å­èŠ‚ç‚¹é›†åˆå¼€å§‹éå†\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isUndef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ä»ç¬¬ä¸€é¡¹å¼€å§‹ï¼Œä¸€ç›´éå†æ—§èŠ‚ç‚¹åˆå§‹å…ƒç´ ç›´åˆ°ä¸ä¸ºç©ºä¸ºæ­¢\")]),t._v(\"\\n      oldStartVnode \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"++\")]),t._v(\"oldStartIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// Vnode has been moved left\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isUndef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldEndVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ä»æœ€åä¸€é¡¹å¼€å§‹ï¼Œä¸€ç›´éå†æ—§èŠ‚ç‚¹ç›´åˆ°ä¸ä¸ºç©ºä¸ºæ­¢\")]),t._v(\"\\n      oldEndVnode \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"--\")]),t._v(\"oldEndIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sameVnode\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ï¼ˆç›¸åŒä½ç½®åœºæ™¯ï¼‰å½“ç¬¬ä¸€é¡¹æ—§èŠ‚ç‚¹å’Œç¬¬ä¸€é¡¹æ–°èŠ‚ç‚¹ç›¸åŒæ—¶ï¼Œåˆ™ç»§ç»­æ‰§è¡ŒpatchVnodeé€’å½’æ‰§è¡Œä¸‹å»\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"patchVnode\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" insertedVnodeQueue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newStartIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      oldStartVnode \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"++\")]),t._v(\"oldStartIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      newStartVnode \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" newCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"++\")]),t._v(\"newStartIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sameVnode\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldEndVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newEndVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ï¼ˆç›¸åŒä½ç½®åœºæ™¯ï¼‰å½“æœ€åä¸€é¡¹æ—§èŠ‚ç‚¹å’Œæœ€åä¸€é¡¹æ–°èŠ‚ç‚¹ç›¸åŒæ—¶ï¼Œåˆ™ç»§ç»­æ‰§è¡ŒpatchVnodeé€’å½’æ‰§è¡Œä¸‹å»\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"patchVnode\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldEndVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newEndVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" insertedVnodeQueue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newEndIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      oldEndVnode \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"--\")]),t._v(\"oldEndIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      newEndVnode \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" newCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"--\")]),t._v(\"newEndIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sameVnode\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newEndVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ï¼ˆéœ€è¦ç§»åŠ¨åœºæ™¯ï¼‰å½“ç¬¬ä¸€é¡¹æ—§èŠ‚ç‚¹å’Œæœ€åä¸€é¡¹æ–°èŠ‚ç‚¹ç›¸åŒæ—¶ï¼Œå…ˆæ‰§è¡ŒpatchVnodeé€’å½’æ‰§è¡Œä¸‹å»ï¼Œå†æ‰§è¡ŒinsertBeforeå°†çœŸå®DOMèŠ‚ç‚¹æ’å…¥åˆ°ç›¸åº”ä½ç½®\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"patchVnode\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newEndVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" insertedVnodeQueue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newEndIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      canMove \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" nodeOps\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"insertBefore\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"parentElm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oldStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"elm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" nodeOps\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"nextSibling\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldEndVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"elm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      oldStartVnode \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"++\")]),t._v(\"oldStartIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      newEndVnode \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" newCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"--\")]),t._v(\"newEndIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sameVnode\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldEndVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// ï¼ˆéœ€è¦ç§»åŠ¨åœºæ™¯ï¼‰å½“æœ€åä¸€é¡¹æ—§èŠ‚ç‚¹å’Œç¬¬ä¸€é¡¹æ–°èŠ‚ç‚¹ç›¸åŒæ—¶ï¼Œå…ˆæ‰§è¡ŒpatchVnodeé€’å½’æ‰§è¡Œä¸‹å»ï¼Œå†æ‰§è¡ŒinsertBeforeå°†çœŸå®DOMèŠ‚ç‚¹æ’å…¥åˆ°ç›¸åº”ä½ç½®\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"patchVnode\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldEndVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" insertedVnodeQueue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newStartIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      canMove \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" nodeOps\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"insertBefore\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"parentElm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oldEndVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"elm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oldStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"elm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      oldEndVnode \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"--\")]),t._v(\"oldEndIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      newStartVnode \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" newCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"++\")]),t._v(\"newStartIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æ¯”è¾ƒå¤´å°¾éƒ½æ— ç›¸åŒå…ƒç´ æ—¶ï¼Œç›´æ¥åˆ¤æ–­æ–°èŠ‚ç‚¹æ˜¯å¦åœ¨æ—§èŠ‚ç‚¹ç»“åˆä¸­ï¼Œè‹¥æœ‰åˆ™ç›´æ¥ç§»åŠ¨ç›¸åº”çš„ä½ç½®ï¼Œè‹¥æ— åˆ™ç›´æ¥æ–°å»ºä¸€ä¸ªèŠ‚ç‚¹\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isUndef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldKeyToIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" oldKeyToIdx \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createKeyToOldIdx\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oldStartIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oldEndIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å°†æ—§èŠ‚ç‚¹ç»“åˆåˆ›å»ºä¸€ä¸ªå“ˆå¸Œè¡¨\")]),t._v(\"\\n      idxInOld \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isDef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"newStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"key\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n            \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"?\")]),t._v(\" oldKeyToIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"newStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"key\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\"\\n            \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"findIdxInOld\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"newStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oldStartIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oldEndIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æ ¹æ®å“ˆå¸Œè¡¨ï¼Œåˆ¤æ–­æ–°èŠ‚ç‚¹æ˜¯å¦åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œå¹¶è·å¾—å¯¹åº”æ—§èŠ‚ç‚¹çš„ç´¢å¼•ä½ç½®\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isUndef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"idxInOld\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å½“æ–°èŠ‚ç‚¹ä¸åœ¨æ—§èŠ‚ç‚¹é›†åˆä¸­æ—¶ï¼Œæ–°å»ºä¸€ä¸ªçœŸå®DOMèŠ‚ç‚¹\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createElm\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"newStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" insertedVnodeQueue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" parentElm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oldStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"elm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"false\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newStartIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å½“æ–°èŠ‚ç‚¹åœ¨æ—§èŠ‚ç‚¹é›†åˆä¸­æ—¶ï¼Œåˆ™ä¼šå…ˆåˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦ç›¸åŒ\")]),t._v(\"\\n        vnodeToMove \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"idxInOld\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// æ ¹æ®ç´¢å¼•ä½ç½®è·å¾—æ—§èŠ‚ç‚¹\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"sameVnode\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"vnodeToMove\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å½“ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯ç›¸åŒæ—¶ï¼Œç»§ç»­æ‰§è¡ŒpatchVnodeé€’å½’æ‰§è¡Œä¸‹å»ï¼Œå†æ‰§è¡ŒinsertBeforeå°†çœŸå®DOMèŠ‚ç‚¹æ’å…¥åˆ°ç›¸åº”ä½ç½®\")]),t._v(\"\\n          \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"patchVnode\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"vnodeToMove\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" insertedVnodeQueue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newStartIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n          oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"idxInOld\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"undefined\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n          canMove \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" nodeOps\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"insertBefore\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"parentElm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" vnodeToMove\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"elm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oldStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"elm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// å½“ä¸¤ä¸ªèŠ‚ç‚¹ä¸åŒæ—¶ï¼Œç›´æ¥æ–°å»ºä¸€ä¸ªæ–°çš„DOMèŠ‚ç‚¹\")]),t._v(\"\\n          \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// same key but different element. treat as new element\")]),t._v(\"\\n          \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createElm\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"newStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" insertedVnodeQueue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" parentElm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oldStartVnode\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"elm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"false\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newStartIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n        \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      newStartVnode \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" newCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"++\")]),t._v(\"newStartIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"oldStartIdx \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\" oldEndIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// è·³å‡ºå¾ªç¯åï¼Œè‹¥æ–°èŠ‚ç‚¹ä¾æ—§å­˜åœ¨ï¼Œé‚£ä¹ˆå°±è¦éå†å‰©ä½™çš„æ–°èŠ‚ç‚¹å¹¶é€ä¸ªæ–°å¢åˆ°çœŸå®DOMä¸­\")]),t._v(\"\\n    refElm \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"isUndef\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"newCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"newEndIdx \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"?\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"null\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" newCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),t._v(\"newEndIdx \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"elm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"addVnodes\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"parentElm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" refElm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newStartIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" newEndIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" insertedVnodeQueue\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"newStartIdx \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\" newEndIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// è·³å‡ºå¾ªç¯åï¼Œè‹¥æ—§èŠ‚ç‚¹ä¾æ—§å­˜åœ¨ï¼Œé‚£ä¹ˆå°±è¦å°†çœŸå®DOMä¸­å¯¹åº”æ—§VNodeèŠ‚ç‚¹è¿›è¡Œåˆ é™¤æ“ä½œ\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"removeVnodes\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"parentElm\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oldCh\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oldStartIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" oldEndIdx\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"p\",[t._v(\"çœ‹å®Œä¸Šé¢ä¸€å¨ä»£ç ï¼Œæ˜¯å¦ä¼šè§‰å¾—æ™•æ™•çš„ï¼Ÿæ—¢ç„¶æ™•ï¼Œé‚£æˆ‘ä»¬å°±ä¸€æ­¥ä¸€æ­¥åœ°æ¥æ€»ç»“ä¸‹ï¼Œæ€»ä¼šæ‰¾åˆ°çªç ´ç‚¹çš„ã€‚ğŸ¤”\")]),t._v(\" \"),n(\"ol\",[n(\"li\",[n(\"p\",[t._v(\"æ‰§è¡Œæ–¹æ³•æ—¶ï¼Œé¦–å…ˆä¼šå…ˆè·å–æ–°æ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"å­èŠ‚ç‚¹é›†åˆçš„åˆå§‹ä½ç½®ã€ç»“æŸä½ç½®ã€ç¬¬ä¸€é¡¹å…ƒç´ ä»¥åŠæœ€åä¸€é¡¹å…ƒç´ ã€‚\")])]),t._v(\" \"),n(\"li\",[n(\"p\",[t._v(\"æ¥ç€ä½¿ç”¨\"),n(\"code\",[t._v(\"sameVnode\")]),t._v(\"æ–¹æ³•åˆ¤æ–­æ–°æ—§å­èŠ‚ç‚¹é›†åˆå¤´å¤´ã€å°¾å°¾èŠ‚ç‚¹æ˜¯å¦ç›¸åŒã€‚åˆ†ä¸¤ç§æƒ…å†µï¼š\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"å½“æ—§å­èŠ‚ç‚¹é›†åˆç¬¬ä¸€é¡¹å…ƒç´ å’Œæ–°å­èŠ‚ç‚¹é›†åˆç¬¬ä¸€é¡¹å…ƒç´ ç›¸åŒæ—¶ï¼Œæ‰§è¡Œ\"),n(\"code\",[t._v(\"patchVnode\")]),t._v(\"æ–¹æ³•é€’å½’éå†å®ƒä»¬å­èŠ‚ç‚¹é›†åˆä¸‹å»ã€‚\")]),t._v(\" \"),n(\"li\",[t._v(\"å½“æ—§å­èŠ‚ç‚¹é›†åˆæœ€åä¸€é¡¹å…ƒç´ å’Œæ–°å­èŠ‚ç‚¹é›†åˆæœ€åä¸€é¡¹å…ƒç´ ç›¸åŒæ—¶ï¼Œæ‰§è¡Œ\"),n(\"code\",[t._v(\"patchVnode\")]),t._v(\"æ–¹æ³•é€’å½’éå†å®ƒä»¬å­èŠ‚ç‚¹é›†åˆä¸‹å»ã€‚\")])]),t._v(\" \"),n(\"p\",[t._v(\"è¿™ä¸¤ç§æƒ…å†µå‡å±äº\"),n(\"strong\",[t._v(\"åŸåœ°å°†å…ƒç´ æ›´æ”¹å³å¯ï¼Œæ— éœ€ç§»åŠ¨å…ƒç´ \")]),t._v(\"ï¼Œæ¶ˆè€—æ€§èƒ½æœ€å°ã€‚\")])]),t._v(\" \"),n(\"li\",[n(\"p\",[t._v(\"å†ä½¿ç”¨\"),n(\"code\",[t._v(\"sameVnode\")]),t._v(\"æ–¹æ³•åˆ¤æ–­æ–°æ—§å­èŠ‚ç‚¹é›†åˆå¤´å°¾ã€å°¾å¤´èŠ‚ç‚¹æ˜¯å¦ç›¸åŒã€‚åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[n(\"p\",[t._v(\"å½“æ—§å­èŠ‚ç‚¹é›†åˆç¬¬ä¸€é¡¹å…ƒç´ å’Œæ–°å­èŠ‚ç‚¹é›†åˆæœ€åä¸€é¡¹å…ƒç´ ç›¸åŒæ—¶ï¼Œæ‰§è¡Œ\"),n(\"code\",[t._v(\"patchVnode\")]),t._v(\"æ–¹æ³•é€’å½’éå†å®ƒä»¬å­èŠ‚ç‚¹é›†åˆä¸‹å»ï¼Œç„¶åæ‰§è¡Œ\"),n(\"code\",[t._v(\"insertBefore\")]),t._v(\"æ–¹æ³•å°†çœŸå®\"),n(\"code\",[t._v(\"DOM\")]),t._v(\"å¯¹åº”æ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹çš„ä½ç½®ç§»åˆ°æœ€åä¸€ä½ã€‚ï¼ˆçœ‹å›¾å¥½ç†è§£ ğŸ˜‚ï¼‰\")]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:\"https://raw.githubusercontent.com/Andraw-lin/about-Vue/master/images/old-one-and-new-length.jpg\",alt:\"\"}})])]),t._v(\" \"),n(\"li\",[n(\"p\",[t._v(\"å½“æ—§å­èŠ‚ç‚¹é›†åˆæœ€åä¸€é¡¹å…ƒç´ å’Œæ–°å­èŠ‚ç‚¹é›†åˆç¬¬ä¸€é¡¹å…ƒç´ ç›¸åŒæ—¶ï¼Œæ‰§è¡Œ\"),n(\"code\",[t._v(\"patchVnode\")]),t._v(\"æ–¹æ³•é€’å½’éå†å®ƒä»¬å­èŠ‚ç‚¹é›†åˆä¸‹å»ï¼Œç„¶åæ‰§è¡Œ\"),n(\"code\",[t._v(\"insertBefore\")]),t._v(\"æ–¹æ³•å°†çœŸå®\"),n(\"code\",[t._v(\"DOM\")]),t._v(\"å¯¹åº”æ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹çš„ä½ç½®ç§»åˆ°ç¬¬ä¸€ä½ã€‚ï¼ˆçœ‹å›¾å¥½ç†è§£ ğŸ˜‚ï¼‰\")]),t._v(\" \"),n(\"p\",[n(\"img\",{attrs:{src:\"https://raw.githubusercontent.com/Andraw-lin/about-Vue/master/images/old-length-and-new-one.jpg\",alt:\"\"}})])])]),t._v(\" \"),n(\"p\",[t._v(\"è¿™ä¸¤ç§å¯å‡å±äº\"),n(\"strong\",[t._v(\"ç§»åŠ¨å…ƒç´ æ›´æ”¹ï¼Œéœ€ç§»åŠ¨å…ƒç´ \")]),t._v(\"ï¼Œæ¶ˆè€—æ€§èƒ½ä¸€èˆ¬ã€‚\")])]),t._v(\" \"),n(\"li\",[n(\"p\",[t._v(\"å½“å¤´å°¾èŠ‚ç‚¹éƒ½æ¯”è¾ƒå®Œæ¯•åï¼Œä½¿ç”¨\"),n(\"code\",[t._v(\"createKeyToOldIdx\")]),t._v(\"æ–¹æ³•å°†æ—§å­èŠ‚ç‚¹é›†åˆè½¬åŒ–ä¸€ä¸ªå“ˆå¸Œè¡¨å½¢å¼ï¼Œç„¶åè·å–æ–°èŠ‚ç‚¹åœ¨æ—§å­èŠ‚ç‚¹å“ˆå¸Œè¡¨ä¸­ä½ç½® tã€‚ä¹Ÿåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"å½“ä½ç½® t ä¸å­˜åœ¨æ—¶ï¼Œé‚£ä¹ˆç›´æ¥ä½¿ç”¨\"),n(\"code\",[t._v(\"createElm\")]),t._v(\"æ–¹æ³•åœ¨çœŸå®\"),n(\"code\",[t._v(\"DOM\")]),t._v(\"ä¸­åˆ›å»ºèŠ‚ç‚¹ã€‚\")]),t._v(\" \"),n(\"li\",[t._v(\"å½“ä½ç½® t å­˜åœ¨æ—¶ã€‚åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š\\n\"),n(\"ul\",[n(\"li\",[t._v(\"è‹¥åŒä¸€ä¸ªä½ç½®çš„æ–°æ—§ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯ç›¸åŒèŠ‚ç‚¹ï¼Œæ‰§è¡Œ\"),n(\"code\",[t._v(\"patchVnode\")]),t._v(\"æ–¹æ³•é€’å½’éå†å®ƒä»¬å­èŠ‚ç‚¹é›†åˆä¸‹å»ï¼Œç„¶åæ‰§è¡Œ\"),n(\"code\",[t._v(\"insertBefore\")]),t._v(\"æ–¹æ³•å°†çœŸå®\"),n(\"code\",[t._v(\"DOM\")]),t._v(\"å¯¹åº”æ—§\"),n(\"code\",[t._v(\"VNode\")]),t._v(\"èŠ‚ç‚¹ç§»åˆ°ä½ç½® t ã€‚\")]),t._v(\" \"),n(\"li\",[t._v(\"è‹¥åŒä¸€ä¸ªä½ç½®çš„æ–°æ—§ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯ä¸ç›¸åŒèŠ‚ç‚¹ï¼Œæ‰§è¡Œ\"),n(\"code\",[t._v(\"createElm\")]),t._v(\"æ–¹æ³•åœ¨çœŸå®\"),n(\"code\",[t._v(\"DOM\")]),t._v(\"ä¸­ä½ç½® t åˆ›å»ºèŠ‚ç‚¹ã€‚\")])])])])]),t._v(\" \"),n(\"li\",[n(\"p\",[t._v(\"è·³å‡ºå¾ªç¯åï¼Œå‰©ä½™ä¸¤ç§æƒ…å†µå¤„ç†ï¼š\")]),t._v(\" \"),n(\"ul\",[n(\"li\",[t._v(\"å½“æ–°å­èŠ‚ç‚¹é›†åˆä¸­è¿˜æœ‰å‰©ä½™èŠ‚ç‚¹æ—¶ï¼Œé‚£ä¹ˆéå†å…¶å‰©ä½™èŠ‚ç‚¹ï¼Œä½¿ç”¨\"),n(\"code\",[t._v(\"createElm\")]),t._v(\"æ–¹æ³•é€ä¸ªåˆ›å»ºçœŸå®\"),n(\"code\",[t._v(\"DOM\")]),t._v(\"èŠ‚ç‚¹ã€‚\")]),t._v(\" \"),n(\"li\",[t._v(\"å½“æ—§å­èŠ‚ç‚¹é›†åˆä¸­è¿˜æœ‰å‰©ä½™èŠ‚ç‚¹æ—¶ï¼Œé‚£ä¹ˆéå†å…¶å‰©ä½™èŠ‚ç‚¹ï¼Œä½¿ç”¨\"),n(\"code\",[t._v(\"removeNode\")]),t._v(\"æ–¹æ³•é€ä¸ªåœ¨çœŸå®\"),n(\"code\",[t._v(\"DOM\")]),t._v(\"ä¸­è¿›è¡Œåˆ é™¤ã€‚\")])])])]),t._v(\" \"),n(\"p\",[t._v(\"çœ‹å®Œä¸Šé¢çš„æ€»ç»“åï¼Œæœ‰æœ¨æœ‰ä¸€ç§è±ç„¶å¼€æœ—çš„æ„Ÿè§‰ ğŸ˜„ã€‚\")]),t._v(\" \"),n(\"p\",[t._v(\"æˆ–è®¸ä½ ä¼šå¯¹ä¸Šé¢åˆä¼šäº§ç”Ÿå¦å¤–çš„ç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆæœ€åä½¿ç”¨å“ˆå¸Œè¡¨æ¥æŸ¥è¯¢ï¼Ÿä¸ç’ä½ è¯´ï¼Œä½¿ç”¨å“ˆå¸Œè¡¨ç›®çš„ï¼Œåœ¨äºèƒ½æ›´å¿«åœ°æ ¹æ®ä¼ é€’å€¼æ‰¾å‡ºç›¸åº”çš„ä½ç½®æ˜¯å¦æ‹¥æœ‰å€¼ã€‚ç›¸å…³çŸ¥è¯†ç«¥é‹ä»¬å¯ä»¥è‡ªè¡ŒæŸ¥æ‰¾ã€‚åœ¨è¿™é‡Œæˆ‘å°±ä¸åœ¨é™ˆè¿°äº†ï½\")]),t._v(\" \"),n(\"p\",[t._v(\"ç»ˆäºè¦å†™å®Œå•¦ï¼ŒğŸ˜‚ å“ˆå“ˆã€‚æ•²çš„æˆ‘æ‰‹éƒ½å¿«è½¯äº†ã€‚å¯èƒ½ä½ ä¼šè§‰å¾—è¿˜æœ‰äº›çŸ¥è¯†ç‚¹å¹¶æ²¡æœ‰æåˆ°ï¼Œçš„ç¡®ï¼Œç”±äºæˆ‘çš„æ—¶é—´æœ‰ä¸€å®šé™åˆ¶ï¼Œæ‰€ä»¥ä¹Ÿä¹ˆæœ‰æŠŠæ‰€æœ‰çŸ¥è¯†ç‚¹éƒ½ä¸€ä¸€è®²è¿°ï¼Œä½†æˆ‘è¿˜æ˜¯å¸Œæœ›å¤§å®¶èƒ½å¤Ÿä¸€èµ·å­¦ä¹ ä¸€èµ·è¿›æ­¥çš„ã€‚\")]),t._v(\" \"),n(\"p\",[t._v(\"æœ€åçš„æœ€åï¼Œè¿˜æ˜¯å¾ˆæ„Ÿè°¢ç«¥é‹ä»¬çš„è§‚çœ‹ ğŸ’ªã€‚ä¹Ÿç¥å¤§å®¶åœ¨å³å°†è¸å…¥çš„2020å¹´é‡Œèº«ä½“å¥åº·ã€ä¸‡äº‹å¦‚æ„ï¼Œæœ€é‡è¦çš„è¿˜æ˜¯å‡å®˜å‘è´¢å“ˆ ğŸ˜†\")])])}),[],!1,null,null,null);s.default=e.exports}}]);","extractedComments":[]}